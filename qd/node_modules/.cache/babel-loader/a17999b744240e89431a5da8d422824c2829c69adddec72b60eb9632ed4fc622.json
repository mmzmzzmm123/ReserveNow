{"ast":null,"code":"import { ref, computed, onMounted, reactive } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport { Odometer, User, DataLine, Setting, ArrowLeft, ArrowRight, ArrowDown, KnifeFork, Calendar, ChatDotRound, UserFilled, Star, Tickets, Plus, Close } from '@element-plus/icons-vue';\nimport request from '@/utils/request';\nexport default {\n  __name: 'Sidebar',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const route = useRoute();\n    const isCollapsed = ref(false);\n    const currentRoute = computed(() => route.path);\n\n    // Get user information and role\n    const userInfo = ref(JSON.parse(localStorage.getItem('userInfo') || '{}'));\n    const userRole = ref(userInfo.value.role || 0);\n\n    // Filter menu items based on user role\n    const menuItems = computed(() => {\n      // 0: Admin, 1: Restaurant Manager, 2: User, 3: Staff\n\n      // Admin Menu\n      if (userRole.value === 0) {\n        return [{\n          title: 'Dashboard',\n          icon: 'Odometer',\n          path: '/admin/dashboard'\n        }, {\n          title: 'Restaurant Management',\n          icon: 'KnifeFork',\n          path: '/admin/restaurants'\n        }, {\n          title: 'Table Management',\n          icon: 'Tickets',\n          path: '/admin/tables'\n        }, {\n          title: 'User Management',\n          icon: 'User',\n          path: '/admin/users'\n        }, {\n          title: 'Reservation Management',\n          icon: 'Calendar',\n          path: '/admin/reservations'\n        }, {\n          title: 'Review Management',\n          icon: 'ChatDotRound',\n          path: '/admin/reviews'\n        }, {\n          title: 'System Settings',\n          icon: 'Setting',\n          path: '/admin/settings'\n        }];\n      }\n\n      // Restaurant Manager Menu\n      else if (userRole.value === 1) {\n        return [{\n          title: 'Dashboard',\n          icon: 'Odometer',\n          path: '/admin/dashboard'\n        }, {\n          title: 'My Restaurant',\n          icon: 'KnifeFork',\n          path: '/admin/restaurants'\n        }, {\n          title: 'Table Management',\n          icon: 'Tickets',\n          path: '/admin/tables'\n        }, {\n          title: 'Reservation Management',\n          icon: 'Calendar',\n          path: '/admin/reservations'\n        }, {\n          title: 'Staff Management',\n          icon: 'UserFilled',\n          path: '/admin/staff'\n        }, {\n          title: 'System Settings',\n          icon: 'Setting',\n          path: '/admin/settings'\n        }];\n      }\n\n      // Staff Menu\n      else if (userRole.value === 3) {\n        return [{\n          title: 'Dashboard',\n          icon: 'Odometer',\n          path: '/admin/dashboard'\n        }, {\n          title: 'Reservation Management',\n          icon: 'Calendar',\n          path: '/admin/reservations'\n        }, {\n          title: 'Apply for Staff',\n          icon: 'UserFilled',\n          path: '/admin/staff-apply'\n        }, {\n          title: 'System Settings',\n          icon: 'Setting',\n          path: '/admin/settings'\n        }];\n      }\n\n      // Default Menu\n      return [{\n        title: 'Dashboard',\n        icon: 'Odometer',\n        path: '/admin/dashboard'\n      }, {\n        title: 'Settings',\n        icon: 'Setting',\n        path: '/admin/settings'\n      }];\n    });\n    const userAvatar = ref(userInfo.value.avatar || 'https://api.dicebear.com/7.x/avataaars/svg?seed=Felix');\n    const username = ref(userInfo.value.name || 'Admin');\n    const userRoleText = computed(() => {\n      const roleMap = {\n        0: 'System Admin',\n        1: 'Restaurant Manager',\n        2: 'Regular User',\n        3: 'Restaurant Staff'\n      };\n      return roleMap[userRole.value] || 'Unknown Role';\n    });\n\n    // Page Title\n    const pageTitle = computed(() => {\n      return route.meta.title || 'Admin Console';\n    });\n    const toggleSidebar = () => {\n      isCollapsed.value = !isCollapsed.value;\n    };\n    const navigate = path => {\n      router.push(path);\n    };\n\n    // Handle dropdown menu commands\n    const handleCommand = command => {\n      if (command === 'logout') {\n        ElMessageBox.confirm('Are you sure you want to logout?', 'Logout Confirmation', {\n          confirmButtonText: 'Confirm',\n          cancelButtonText: 'Cancel',\n          type: 'warning'\n        }).then(() => {\n          localStorage.removeItem('userInfo');\n          localStorage.removeItem('savedCredentials');\n          document.cookie = 'token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n          ElMessage.success('Logout successful');\n          router.push('/login');\n        }).catch(() => {});\n      } else if (command === 'profile') {\n        profileDialogVisible.value = true;\n        fetchUserInfo();\n      } else if (command === 'settings') {\n        router.push('/admin/settings');\n      }\n    };\n\n    // Profile related\n    const profileDialogVisible = ref(false);\n    const activeTab = ref('info');\n    const fileInput = ref(null);\n    const userForm = reactive({\n      name: '',\n      email: '',\n      role: '',\n      createdAt: '',\n      avatar: ''\n    });\n    const passwordForm = reactive({\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    });\n    const passwordRules = {\n      oldPassword: [{\n        required: true,\n        message: 'Please enter current password',\n        trigger: 'blur'\n      }, {\n        min: 6,\n        message: 'Password must be at least 6 characters',\n        trigger: 'blur'\n      }],\n      newPassword: [{\n        required: true,\n        message: 'Please enter new password',\n        trigger: 'blur'\n      }, {\n        min: 6,\n        message: 'Password must be at least 6 characters',\n        trigger: 'blur'\n      }],\n      confirmPassword: [{\n        required: true,\n        message: 'Please confirm new password',\n        trigger: 'blur'\n      }, {\n        validator: (rule, value, callback) => {\n          if (value !== passwordForm.newPassword) {\n            callback(new Error('Passwords do not match'));\n          } else {\n            callback();\n          }\n        },\n        trigger: 'blur'\n      }]\n    };\n    const passwordFormRef = ref(null);\n\n    // Get user information\n    const fetchUserInfo = async () => {\n      try {\n        const res = await request({\n          url: '/users/info',\n          method: 'get'\n        });\n        if (res.code === 200) {\n          userInfo.value = res.data;\n          Object.assign(userForm, res.data);\n          const token = JSON.parse(localStorage.getItem(\"userInfo\")).token;\n          res.data.token = token;\n          localStorage.setItem(\"userInfo\", JSON.stringify(res.data));\n        }\n      } catch (error) {\n        console.error('Failed to get user information:', error);\n      }\n    };\n\n    // Update user information\n    const handleUpdateProfile = async () => {\n      try {\n        const res = await request({\n          url: '/users/update',\n          method: 'put',\n          data: {\n            name: userForm.name,\n            avatar: userForm.avatar\n          }\n        });\n        if (res.code === 200) {\n          ElMessage.success('Profile updated successfully');\n          fetchUserInfo();\n        }\n      } catch (error) {\n        console.error('Failed to update user information:', error);\n      }\n    };\n\n    // Change password\n    const handleChangePassword = async () => {\n      // Validate password\n      if (!passwordForm.oldPassword) {\n        ElMessage.error('Please enter current password');\n        return;\n      }\n      if (!passwordForm.newPassword) {\n        ElMessage.error('Please enter new password');\n        return;\n      }\n      if (passwordForm.newPassword.length < 6) {\n        ElMessage.error('New password must be at least 6 characters');\n        return;\n      }\n      if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n        ElMessage.error('Passwords do not match');\n        return;\n      }\n      try {\n        const res = await request({\n          url: '/users/update',\n          method: 'put',\n          data: {\n            oldPassword: passwordForm.oldPassword,\n            newPassword: passwordForm.newPassword,\n            confirmPassword: passwordForm.confirmPassword\n          }\n        });\n        if (res.code === 200) {\n          ElMessage.success('Password changed successfully');\n          activeTab.value = 'info';\n          // Clear password form\n          passwordForm.oldPassword = '';\n          passwordForm.newPassword = '';\n          passwordForm.confirmPassword = '';\n        }\n      } catch (error) {\n        console.error('Failed to change password:', error);\n        ElMessage.error('Failed to change password');\n      }\n    };\n\n    // Add time formatting function\n    const formatCreatedTime = timestamp => {\n      if (!timestamp) return 'Unknown Time';\n      const date = new Date(timestamp);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hour = String(date.getHours()).padStart(2, '0');\n      const minute = String(date.getMinutes()).padStart(2, '0');\n      return `${year}-${month}-${day} ${hour}:${minute}`;\n    };\n\n    // Add file selection trigger function\n    const triggerFileInput = () => {\n      fileInput.value.click();\n    };\n\n    // Add file change handler function\n    const handleFileChange = e => {\n      const file = e.target.files[0];\n      if (!file) return;\n      const isValidImageType = /^image\\/(jpeg|png|gif)$/.test(file.type);\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isValidImageType) {\n        ElMessage.error('Please upload JPG/PNG/GIF format images');\n        return;\n      }\n      if (!isLt2M) {\n        ElMessage.error('Image size cannot exceed 2MB');\n        return;\n      }\n      const formData = new FormData();\n      formData.append('file', file);\n      handleAvatarUpload({\n        file\n      });\n    };\n\n    // Add avatar upload handler function\n    const handleAvatarUpload = async ({\n      file\n    }) => {\n      try {\n        const formData = new FormData();\n        formData.append('file', file);\n        const res = await request({\n          url: '/files/images',\n          method: 'post',\n          data: formData,\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        if (res.code === 200) {\n          userForm.avatar = res.data;\n          ElMessage.success('Avatar uploaded successfully');\n        }\n      } catch (error) {\n        console.error('Failed to upload avatar:', error);\n        ElMessage.error('Failed to upload avatar');\n      }\n    };\n\n    // Check access permission when component is mounted\n    onMounted(() => {\n      // If path includes admin, check permission\n      if (route.path.includes('/admin')) {\n        const role = userInfo.value.role;\n        // If regular user (role === 2) or not logged in, redirect to home page\n        if (role === 2 || !userInfo.value.token) {\n          ElMessage.error('You do not have permission to access the admin panel');\n          router.push('/');\n        }\n      }\n      fetchUserInfo();\n    });\n    const __returned__ = {\n      router,\n      route,\n      isCollapsed,\n      currentRoute,\n      userInfo,\n      userRole,\n      menuItems,\n      userAvatar,\n      username,\n      userRoleText,\n      pageTitle,\n      toggleSidebar,\n      navigate,\n      handleCommand,\n      profileDialogVisible,\n      activeTab,\n      fileInput,\n      userForm,\n      passwordForm,\n      passwordRules,\n      passwordFormRef,\n      fetchUserInfo,\n      handleUpdateProfile,\n      handleChangePassword,\n      formatCreatedTime,\n      triggerFileInput,\n      handleFileChange,\n      handleAvatarUpload,\n      ref,\n      computed,\n      onMounted,\n      reactive,\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get ElMessageBox() {\n        return ElMessageBox;\n      },\n      get Odometer() {\n        return Odometer;\n      },\n      get User() {\n        return User;\n      },\n      get DataLine() {\n        return DataLine;\n      },\n      get Setting() {\n        return Setting;\n      },\n      get ArrowLeft() {\n        return ArrowLeft;\n      },\n      get ArrowRight() {\n        return ArrowRight;\n      },\n      get ArrowDown() {\n        return ArrowDown;\n      },\n      get KnifeFork() {\n        return KnifeFork;\n      },\n      get Calendar() {\n        return Calendar;\n      },\n      get ChatDotRound() {\n        return ChatDotRound;\n      },\n      get UserFilled() {\n        return UserFilled;\n      },\n      get Star() {\n        return Star;\n      },\n      get Tickets() {\n        return Tickets;\n      },\n      get Plus() {\n        return Plus;\n      },\n      get Close() {\n        return Close;\n      },\n      get request() {\n        return request;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","reactive","useRouter","useRoute","ElMessage","ElMessageBox","Odometer","User","DataLine","Setting","ArrowLeft","ArrowRight","ArrowDown","KnifeFork","Calendar","ChatDotRound","UserFilled","Star","Tickets","Plus","Close","request","router","route","isCollapsed","currentRoute","path","userInfo","JSON","parse","localStorage","getItem","userRole","value","role","menuItems","title","icon","userAvatar","avatar","username","name","userRoleText","roleMap","pageTitle","meta","toggleSidebar","navigate","push","handleCommand","command","confirm","confirmButtonText","cancelButtonText","type","then","removeItem","document","cookie","success","catch","profileDialogVisible","fetchUserInfo","activeTab","fileInput","userForm","email","createdAt","passwordForm","oldPassword","newPassword","confirmPassword","passwordRules","required","message","trigger","min","validator","rule","callback","Error","passwordFormRef","res","url","method","code","data","Object","assign","token","setItem","stringify","error","console","handleUpdateProfile","handleChangePassword","length","formatCreatedTime","timestamp","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hour","getHours","minute","getMinutes","triggerFileInput","click","handleFileChange","e","file","target","files","isValidImageType","test","isLt2M","size","formData","FormData","append","handleAvatarUpload","headers","includes"],"sources":["/Users/taoyuxuan/Documents/RestaurantReservation/qd/src/components/Sidebar.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-layout\" :class=\"{ 'layout-collapsed': isCollapsed }\">\r\n    <div class=\"sidebar\" :class=\"{ 'sidebar-collapsed': isCollapsed }\">\r\n      <div class=\"sidebar-header\">\r\n        <div class=\"logo-container\" v-if=\"!isCollapsed\">\r\n          <div class=\"logo-text\">ADMIN</div>\r\n        </div>\r\n        <div class=\"toggle-btn neomorphic-toggle\" @click=\"toggleSidebar\">\r\n          <el-icon size=\"14\">\r\n            <ArrowLeft v-if=\"!isCollapsed\" />\r\n            <ArrowRight v-else />\r\n          </el-icon>\r\n        </div>\r\n      </div>\r\n      \r\n      <nav class=\"sidebar-nav\">\r\n        <div v-for=\"(item, index) in menuItems\" :key=\"index\" \r\n             class=\"nav-item\" \r\n             :class=\"{ 'active': currentRoute === item.path, 'neomorphic-nav-item': true }\"\r\n             @click=\"navigate(item.path)\">\r\n          <div class=\"nav-icon\">\r\n            <el-icon :size=\"18\">\r\n              <component :is=\"item.icon\"></component>\r\n            </el-icon>\r\n          </div>\r\n          <span v-if=\"!isCollapsed\" class=\"nav-text\">{{ item.title }}</span>\r\n        </div>\r\n      </nav>\r\n\r\n      <div class=\"sidebar-footer\">\r\n        <div class=\"user-info neomorphic-user-profile\">\r\n          <div class=\"avatar-wrapper\">\r\n            <img :src=\"userAvatar\" alt=\"User Avatar\" class=\"avatar\" />\r\n            <div class=\"status-dot\"></div>\r\n          </div>\r\n          <div v-if=\"!isCollapsed\" class=\"user-details\">\r\n            <span class=\"username\">{{ username }}</span>\r\n            <span class=\"role\">{{ userRoleText }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"main-content\">\r\n      <header class=\"admin-header neomorphic-header\">\r\n        <div class=\"header-left\">\r\n          <h2 class=\"page-title\">{{ pageTitle }}</h2>\r\n        </div>\r\n        <div class=\"header-right\">\r\n          <el-dropdown trigger=\"click\" @command=\"handleCommand\">\r\n            <div class=\"user-info-header neomorphic-dropdown-trigger\">\r\n              <img :src=\"userAvatar\" alt=\"User Avatar\" class=\"avatar\" />\r\n              <span class=\"username\">{{ username }}</span>\r\n              <el-icon class=\"el-icon--right\"><arrow-down /></el-icon>\r\n            </div>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"profile\">Profile</el-dropdown-item>\r\n                <el-dropdown-item divided command=\"logout\">Logout</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n        </div>\r\n      </header>\r\n      <main class=\"admin-main\">\r\n        <router-view />\r\n      </main>\r\n    </div>\r\n\r\n    <!-- Add personal information dialog -->\r\n    <div class=\"profile-dialog\" v-if=\"profileDialogVisible\">\r\n      <div class=\"profile-dialog-content neomorphic-panel\">\r\n        <div class=\"profile-dialog-header\">\r\n          <h2>Profile</h2>\r\n          <button class=\"close-btn neomorphic-btn\" @click=\"profileDialogVisible = false\">\r\n            <el-icon><Close /></el-icon>\r\n          </button>\r\n        </div>\r\n        \r\n        <div class=\"profile-container\">\r\n          <!-- Avatar upload section -->\r\n          <div class=\"avatar-section\">\r\n            <div class=\"avatar-uploader neomorphic-upload\" @click=\"triggerFileInput\">\r\n              <img v-if=\"userForm.avatar\" :src=\"userForm.avatar\" class=\"avatar\" />\r\n              <div v-else class=\"avatar-placeholder\">\r\n                <el-icon class=\"upload-icon\"><Plus /></el-icon>\r\n              </div>\r\n            </div>\r\n            <input \r\n              type=\"file\" \r\n              ref=\"fileInput\" \r\n              style=\"display: none\" \r\n              accept=\"image/*\"\r\n              @change=\"handleFileChange\"\r\n            />\r\n            <p class=\"upload-hint\">Click to Change Avatar</p>\r\n          </div>\r\n\r\n          <!-- 选项卡 -->\r\n          <div class=\"profile-tabs neomorphic-tabs\">\r\n            <div class=\"tab-headers\">\r\n              <button \r\n                class=\"tab-btn\" \r\n                :class=\"{ active: activeTab === 'info' }\"\r\n                @click=\"activeTab = 'info'\"\r\n              >Basic Info</button>\r\n              <button \r\n                class=\"tab-btn\" \r\n                :class=\"{ active: activeTab === 'password' }\"\r\n                @click=\"activeTab = 'password'\"\r\n              >Change Password</button>\r\n            </div>\r\n\r\n            <!-- Basic Info Form -->  \r\n            <div v-show=\"activeTab === 'info'\" class=\"tab-content\">\r\n              <div class=\"form-group\">\r\n                <label>Username</label>\r\n                <div class=\"input-wrapper neomorphic-input\">\r\n                  <input type=\"text\" v-model=\"userForm.name\" placeholder=\"Enter username\">\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label>Email</label>\r\n                <div class=\"input-wrapper neomorphic-input\">\r\n                  <input type=\"text\" v-model=\"userForm.email\" disabled>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label>Registration Time</label>\r\n                <div class=\"input-wrapper neomorphic-input\">\r\n                  <input type=\"text\" :value=\"formatCreatedTime(userForm.createdAt)\" disabled>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-actions\">\r\n                <button class=\"submit-btn neomorphic-btn\" @click=\"handleUpdateProfile\">\r\n                   Save Changes\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div v-show=\"activeTab === 'password'\" class=\"tab-content\">\r\n              <div class=\"form-group\">\r\n                <label>Current Password</label>\r\n                <div class=\"input-wrapper neomorphic-input\">\r\n                  <input \r\n                    type=\"password\" \r\n                    v-model=\"passwordForm.oldPassword\" \r\n                    placeholder=\"Enter current password\"\r\n                  >\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label>New Password</label>\r\n                <div class=\"input-wrapper neomorphic-input\">\r\n                  <input \r\n                    type=\"password\" \r\n                    v-model=\"passwordForm.newPassword\" \r\n                    placeholder=\"Enter new password\"\r\n                  >\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label>Confirm Password</label>\r\n                <div class=\"input-wrapper neomorphic-input\">\r\n                  <input \r\n                    type=\"password\" \r\n                    v-model=\"passwordForm.confirmPassword\" \r\n                    placeholder=\"Confirm new password\"\r\n                  >\r\n                </div>\r\n              </div>\r\n              <div class=\"form-actions\">\r\n                <button class=\"submit-btn neomorphic-btn\" @click=\"handleChangePassword\">\r\n                   Change Password\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, reactive } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport {\r\n  Odometer,\r\n  User,\r\n  DataLine,\r\n  Setting,\r\n  ArrowLeft,\r\n  ArrowRight,\r\n  ArrowDown,\r\n  KnifeFork,\r\n  Calendar,\r\n  ChatDotRound,\r\n  UserFilled,\r\n  Star,\r\n  Tickets,\r\n  Plus,\r\n  Close\r\n} from '@element-plus/icons-vue'\r\nimport request from '@/utils/request'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst isCollapsed = ref(false)\r\nconst currentRoute = computed(() => route.path)\r\n\r\n// Get user information and role\r\nconst userInfo = ref(JSON.parse(localStorage.getItem('userInfo') || '{}'));\r\nconst userRole = ref(userInfo.value.role || 0);\r\n\r\n// Filter menu items based on user role\r\nconst menuItems = computed(() => {\r\n  // 0: Admin, 1: Restaurant Manager, 2: User, 3: Staff\r\n  \r\n  // Admin Menu\r\n  if (userRole.value === 0) {\r\n    return [\r\n      { title: 'Dashboard', icon: 'Odometer', path: '/admin/dashboard' },\r\n      { title: 'Restaurant Management', icon: 'KnifeFork', path: '/admin/restaurants' },\r\n      { title: 'Table Management', icon: 'Tickets', path: '/admin/tables' },\r\n      { title: 'User Management', icon: 'User', path: '/admin/users' },\r\n      { title: 'Reservation Management', icon: 'Calendar', path: '/admin/reservations' },\r\n      { title: 'Review Management', icon: 'ChatDotRound', path: '/admin/reviews' },\r\n      { title: 'System Settings', icon: 'Setting', path: '/admin/settings' },\r\n    ];\r\n  }\r\n  \r\n  // Restaurant Manager Menu\r\n  else if (userRole.value === 1) {\r\n    return [\r\n      { title: 'Dashboard', icon: 'Odometer', path: '/admin/dashboard' },\r\n      { title: 'My Restaurant', icon: 'KnifeFork', path: '/admin/restaurants' },\r\n      { title: 'Table Management', icon: 'Tickets', path: '/admin/tables' },\r\n      { title: 'Reservation Management', icon: 'Calendar', path: '/admin/reservations' },\r\n      { title: 'Staff Management', icon: 'UserFilled', path: '/admin/staff' },\r\n      { title: 'System Settings', icon: 'Setting', path: '/admin/settings' },\r\n    ];\r\n  }\r\n  \r\n  // Staff Menu\r\n  else if (userRole.value === 3) {\r\n    return [\r\n      { title: 'Dashboard', icon: 'Odometer', path: '/admin/dashboard' },\r\n      { title: 'Reservation Management', icon: 'Calendar', path: '/admin/reservations' },\r\n      { title: 'Apply for Staff', icon: 'UserFilled', path: '/admin/staff-apply' },\r\n      { title: 'System Settings', icon: 'Setting', path: '/admin/settings' }\r\n    ];\r\n  }\r\n  \r\n  // Default Menu\r\n  return [\r\n    { title: 'Dashboard', icon: 'Odometer', path: '/admin/dashboard' },\r\n    { title: 'Settings', icon: 'Setting', path: '/admin/settings' },\r\n  ];\r\n});\r\n\r\nconst userAvatar = ref(userInfo.value.avatar || 'https://api.dicebear.com/7.x/avataaars/svg?seed=Felix')\r\nconst username = ref(userInfo.value.name || 'Admin')\r\nconst userRoleText = computed(() => {\r\n  const roleMap = {\r\n    0: 'System Admin',\r\n    1: 'Restaurant Manager',\r\n    2: 'Regular User',\r\n    3: 'Restaurant Staff'\r\n  };\r\n  return roleMap[userRole.value] || 'Unknown Role';\r\n});\r\n\r\n// Page Title\r\nconst pageTitle = computed(() => {\r\n  return route.meta.title || 'Admin Console';\r\n});\r\n\r\nconst toggleSidebar = () => {\r\n  isCollapsed.value = !isCollapsed.value\r\n}\r\n\r\nconst navigate = (path) => {\r\n  router.push(path)\r\n}\r\n\r\n// Handle dropdown menu commands\r\nconst handleCommand = (command) => {\r\n  if (command === 'logout') {\r\n    ElMessageBox.confirm(\r\n      'Are you sure you want to logout?',\r\n      'Logout Confirmation',\r\n      {\r\n        confirmButtonText: 'Confirm',\r\n        cancelButtonText: 'Cancel',\r\n        type: 'warning'\r\n      }\r\n    ).then(() => {\r\n      localStorage.removeItem('userInfo');\r\n      localStorage.removeItem('savedCredentials');\r\n      document.cookie = 'token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\r\n      \r\n      ElMessage.success('Logout successful');\r\n      router.push('/login');\r\n    }).catch(() => {});\r\n  } else if (command === 'profile') {\r\n    profileDialogVisible.value = true\r\n    fetchUserInfo()\r\n  } else if (command === 'settings') {\r\n    router.push('/admin/settings');\r\n  }\r\n};\r\n\r\n// Profile related\r\nconst profileDialogVisible = ref(false)\r\nconst activeTab = ref('info')\r\nconst fileInput = ref(null)\r\nconst userForm = reactive({\r\n  name: '',\r\n  email: '',\r\n  role: '',\r\n  createdAt: '',\r\n  avatar: ''\r\n})\r\n\r\nconst passwordForm = reactive({\r\n  oldPassword: '',\r\n  newPassword: '',\r\n  confirmPassword: ''\r\n})\r\n\r\nconst passwordRules = {\r\n  oldPassword: [\r\n    { required: true, message: 'Please enter current password', trigger: 'blur' },\r\n    { min: 6, message: 'Password must be at least 6 characters', trigger: 'blur' }\r\n  ],\r\n  newPassword: [\r\n    { required: true, message: 'Please enter new password', trigger: 'blur' },\r\n    { min: 6, message: 'Password must be at least 6 characters', trigger: 'blur' }\r\n  ],\r\n  confirmPassword: [\r\n    { required: true, message: 'Please confirm new password', trigger: 'blur' },\r\n    {\r\n      validator: (rule, value, callback) => {\r\n        if (value !== passwordForm.newPassword) {\r\n          callback(new Error('Passwords do not match'))\r\n        } else {\r\n          callback()\r\n        }\r\n      },\r\n      trigger: 'blur'\r\n    }\r\n  ]\r\n}\r\n\r\nconst passwordFormRef = ref(null)\r\n\r\n// Get user information\r\nconst fetchUserInfo = async () => {\r\n  try {\r\n    const res = await request({\r\n      url: '/users/info',\r\n      method: 'get'\r\n    })\r\n    if (res.code === 200) {\r\n      userInfo.value = res.data\r\n      Object.assign(userForm, res.data)\r\n      const token = JSON.parse(localStorage.getItem(\"userInfo\")).token\r\n      res.data.token = token\r\n      localStorage.setItem(\"userInfo\",JSON.stringify(res.data))\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to get user information:', error)\r\n  }\r\n}\r\n\r\n// Update user information\r\nconst handleUpdateProfile = async () => {\r\n  try {\r\n    const res = await request({\r\n      url: '/users/update',\r\n      method: 'put',\r\n      data: {\r\n        name: userForm.name,\r\n        avatar: userForm.avatar\r\n      }\r\n    })\r\n    if (res.code === 200) {\r\n      ElMessage.success('Profile updated successfully')\r\n      fetchUserInfo()\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('Failed to update user information:', error)\r\n  }\r\n}\r\n\r\n// Change password\r\nconst handleChangePassword = async () => {\r\n  // Validate password\r\n  if (!passwordForm.oldPassword) {\r\n    ElMessage.error('Please enter current password');\r\n    return;\r\n  }\r\n  \r\n  if (!passwordForm.newPassword) {\r\n    ElMessage.error('Please enter new password');\r\n    return;\r\n  }\r\n  \r\n  if (passwordForm.newPassword.length < 6) {\r\n    ElMessage.error('New password must be at least 6 characters');\r\n    return;\r\n  }\r\n  \r\n  if (passwordForm.newPassword !== passwordForm.confirmPassword) {\r\n    ElMessage.error('Passwords do not match');\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    const res = await request({\r\n      url: '/users/update',\r\n      method: 'put',\r\n      data: {\r\n        oldPassword: passwordForm.oldPassword,\r\n        newPassword: passwordForm.newPassword,\r\n        confirmPassword: passwordForm.confirmPassword\r\n      }\r\n    });\r\n    \r\n    if (res.code === 200) {\r\n      ElMessage.success('Password changed successfully');\r\n      activeTab.value = 'info';\r\n      // Clear password form\r\n      passwordForm.oldPassword = '';\r\n      passwordForm.newPassword = '';\r\n      passwordForm.confirmPassword = '';\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to change password:', error);\r\n    ElMessage.error('Failed to change password');\r\n  }\r\n};\r\n\r\n// Add time formatting function\r\nconst formatCreatedTime = (timestamp) => {\r\n  if (!timestamp) return 'Unknown Time';\r\n  const date = new Date(timestamp);\r\n  const year = date.getFullYear();\r\n  const month = String(date.getMonth() + 1).padStart(2, '0');\r\n  const day = String(date.getDate()).padStart(2, '0');\r\n  const hour = String(date.getHours()).padStart(2, '0');\r\n  const minute = String(date.getMinutes()).padStart(2, '0');\r\n  return `${year}-${month}-${day} ${hour}:${minute}`;\r\n};\r\n\r\n// Add file selection trigger function\r\nconst triggerFileInput = () => {\r\n  fileInput.value.click();\r\n};\r\n\r\n// Add file change handler function\r\nconst handleFileChange = (e) => {\r\n  const file = e.target.files[0];\r\n  if (!file) return;\r\n  \r\n  const isValidImageType = /^image\\/(jpeg|png|gif)$/.test(file.type);\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n  if (!isValidImageType) {\r\n    ElMessage.error('Please upload JPG/PNG/GIF format images');\r\n    return;\r\n  }\r\n  \r\n  if (!isLt2M) {\r\n    ElMessage.error('Image size cannot exceed 2MB');\r\n    return;\r\n  }\r\n  \r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  \r\n  handleAvatarUpload({ file });\r\n};\r\n\r\n// Add avatar upload handler function\r\nconst handleAvatarUpload = async ({ file }) => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    \r\n    const res = await request({\r\n      url: '/files/images',\r\n      method: 'post',\r\n      data: formData,\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n    \r\n    if (res.code === 200) {\r\n      userForm.avatar = res.data;\r\n      ElMessage.success('Avatar uploaded successfully');\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to upload avatar:', error);\r\n    ElMessage.error('Failed to upload avatar');\r\n  }\r\n};\r\n\r\n// Check access permission when component is mounted\r\nonMounted(() => {\r\n  // If path includes admin, check permission\r\n  if (route.path.includes('/admin')) {\r\n    const role = userInfo.value.role;\r\n    // If regular user (role === 2) or not logged in, redirect to home page\r\n    if (role === 2 || !userInfo.value.token) {\r\n      ElMessage.error('You do not have permission to access the admin panel');\r\n      router.push('/');\r\n    }\r\n  }\r\n  fetchUserInfo()\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.admin-layout {\r\n  display: flex;\r\n  height: 100vh;\r\n  background-color: #e6e7ee;\r\n}\r\n\r\n.admin-layout.layout-collapsed .main-content {\r\n  margin-left: 110px;\r\n}\r\n\r\n.main-content {\r\n  flex: 1;\r\n  margin-left: 320px;\r\n  transition: margin-left 0.3s;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.admin-header {\r\n  height: 70px;\r\n  background-color: #e6e7ee;\r\n  padding: 0 25px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.neomorphic-header {\r\n  box-shadow: 0 4px 10px -6px #c3c4ca;\r\n  background: #e6e7ee;\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.header-left .page-title {\r\n  font-size: 1.4rem;\r\n  font-weight: 600;\r\n  color: #44476a;\r\n  margin: 0;\r\n  text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.user-info-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 6px 14px;\r\n  cursor: pointer;\r\n  border-radius: 12px;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.neomorphic-dropdown-trigger {\r\n  background: #e6e7ee;\r\n  box-shadow: 3px 3px 6px #c3c4ca,\r\n              -3px -3px 6px #ffffff;\r\n}\r\n\r\n.user-info-header:hover {\r\n  box-shadow: 4px 4px 8px #c3c4ca,\r\n              -4px -4px 8px #ffffff;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.user-info-header .avatar {\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 12px;\r\n  margin-right: 10px;\r\n  object-fit: cover;\r\n  border: 3px solid #e6e7ee;\r\n  box-shadow: 2px 2px 4px #c3c4ca,\r\n              -2px -2px 4px #ffffff;\r\n}\r\n\r\n.user-info-header .username {\r\n  font-size: 14px;\r\n  color: #44476a;\r\n  margin-right: 6px;\r\n  font-weight: 500;\r\n}\r\n\r\n.admin-main {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow: auto;\r\n}\r\n\r\n.sidebar {\r\n  height: 100vh;\r\n  background: #e6e7ee;\r\n  color: #44476a;\r\n  width: 320px;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1000;\r\n  padding: 15px;\r\n  border-right: 1px solid rgba(255, 255, 255, 0.3);\r\n  box-shadow: 5px 0 15px -5px #c3c4ca;\r\n}\r\n\r\n.sidebar-collapsed {\r\n  width: 110px;\r\n}\r\n\r\n.sidebar-header {\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.logo-container {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.logo-text {\r\n  font-size: 22px;\r\n  font-weight: 700;\r\n  color: #4a6cf7;\r\n  letter-spacing: 1px;\r\n  text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.neomorphic-toggle {\r\n  cursor: pointer;\r\n  width: 34px;\r\n  height: 34px;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #4a6cf7;\r\n  transition: all 0.3s ease;\r\n  background: #e6e7ee;\r\n  box-shadow: 3px 3px 6px #c3c4ca,\r\n              -3px -3px 6px #ffffff;\r\n}\r\n\r\n.neomorphic-toggle:hover {\r\n  color: #f74a6c;\r\n  transform: translateY(-2px);\r\n  box-shadow: 4px 4px 8px #c3c4ca,\r\n              -4px -4px 8px #ffffff;\r\n}\r\n\r\n.neomorphic-toggle:active {\r\n  transform: translateY(0px);\r\n  box-shadow: inset 2px 2px 5px #c3c4ca,\r\n              inset -2px -2px 5px #ffffff;\r\n}\r\n\r\n.sidebar-nav {\r\n  flex: 1;\r\n  padding: 10px 0;\r\n  overflow-y: auto;\r\n}\r\n\r\n.neomorphic-nav-item {\r\n  padding: 12px 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  margin: 10px 5px;\r\n  border-radius: 12px;\r\n  background: #e6e7ee;\r\n  box-shadow: 3px 3px 6px #c3c4ca,\r\n              -3px -3px 6px #ffffff;\r\n}\r\n\r\n.nav-item:hover {\r\n  color: #f74a6c;\r\n  transform: translateY(-2px);\r\n  box-shadow: 4px 4px 8px #c3c4ca,\r\n              -4px -4px 8px #ffffff;\r\n}\r\n\r\n.nav-item.active {\r\n  color: #4a6cf7;\r\n  box-shadow: inset 2px 2px 5px #c3c4ca,\r\n              inset -2px -2px 5px #ffffff;\r\n}\r\n\r\n.nav-icon {\r\n  width: 36px;\r\n  height: 36px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 10px;\r\n  margin-right: 10px;\r\n  background: #e6e7ee;\r\n  box-shadow: 2px 2px 4px #c3c4ca,\r\n              -2px -2px 4px #ffffff;\r\n}\r\n\r\n.active .nav-icon {\r\n  box-shadow: inset 1px 1px 3px #c3c4ca,\r\n              inset -1px -1px 3px #ffffff;\r\n}\r\n\r\n.nav-text {\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  opacity: 1;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.sidebar-collapsed .nav-text {\r\n  opacity: 0;\r\n  display: none;\r\n}\r\n\r\n.sidebar-footer {\r\n  padding: 16px 8px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.sidebar-footer .user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 16px;\r\n  transition: all 0.3s ease;\r\n  border-radius: 16px;\r\n  background: #e6e7ee;\r\n  box-shadow: 3px 3px 6px #c3c4ca,\r\n              -3px -3px 6px #ffffff;\r\n}\r\n\r\n.sidebar-footer .user-info:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 4px 4px 8px #c3c4ca,\r\n              -4px -4px 8px #ffffff;\r\n}\r\n\r\n.sidebar-footer .avatar-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.sidebar-footer .avatar {\r\n  width: 46px;\r\n  height: 46px;\r\n  border-radius: 12px;\r\n  object-fit: cover;\r\n  border: 3px solid #e6e7ee;\r\n  box-shadow: 2px 2px 4px #c3c4ca,\r\n              -2px -2px 4px #ffffff;\r\n}\r\n\r\n.sidebar-footer .status-dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  background: #4ade80;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  bottom: -2px;\r\n  right: -2px;\r\n  border: 2px solid #e6e7ee;\r\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.sidebar-footer .user-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.sidebar-footer .username {\r\n  font-weight: 600;\r\n  font-size: 0.95em;\r\n  color: #44476a;\r\n}\r\n\r\n.sidebar-footer .role {\r\n  font-size: 0.8em;\r\n  color: #7f83a2;\r\n}\r\n\r\n/* Scrollbar styles */\r\n.sidebar-nav::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.sidebar-nav::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.sidebar-nav::-webkit-scrollbar-thumb {\r\n  background: #cbd5e1;\r\n  border-radius: 10px;\r\n}\r\n\r\n.sidebar-nav::-webkit-scrollbar-thumb:hover {\r\n  background: #a0aec0;\r\n}\r\n\r\n/* Adapt to collapsed state */\r\n.sidebar-collapsed .nav-item {\r\n  padding: 14px 10px;\r\n  justify-content: center;\r\n}\r\n\r\n.sidebar-collapsed .nav-icon {\r\n  margin-right: 0;\r\n}\r\n\r\n.sidebar-collapsed .user-info {\r\n  justify-content: center;\r\n  padding: 10px;\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .admin-layout .main-content {\r\n    margin-left: 0;\r\n  }\r\n  \r\n  .admin-layout.layout-collapsed .main-content {\r\n    margin-left: 0;\r\n  }\r\n  \r\n  .sidebar {\r\n    transform: translateX(-100%);\r\n    position: fixed;\r\n    z-index: 1001;\r\n  }\r\n  \r\n  .sidebar-collapsed {\r\n    transform: translateX(0);\r\n    width: 80px;\r\n  }\r\n}\r\n\r\n/* Dark mode adaptation */\r\n@media (prefers-color-scheme: dark) {\r\n  .admin-layout {\r\n    background-color: #2d3748;\r\n  }\r\n  \r\n  .sidebar {\r\n    background: #2d3748;\r\n    color: #e2e8f0;\r\n    box-shadow: 5px 0 15px -5px #202632;\r\n    border-right: 1px solid rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  .neomorphic-toggle, .neomorphic-nav-item, .neomorphic-user-profile, .nav-icon {\r\n    background: #2d3748;\r\n    box-shadow: 3px 3px 6px #202632,\r\n                -3px -3px 6px #3a485e;\r\n  }\r\n  \r\n  .neomorphic-toggle:hover, .nav-item:hover, .neomorphic-user-profile:hover {\r\n    box-shadow: 4px 4px 8px #202632,\r\n                -4px -4px 8px #3a485e;\r\n  }\r\n  \r\n  .neomorphic-toggle:active, .nav-item.active {\r\n    box-shadow: inset 2px 2px 5px #202632,\r\n                inset -2px -2px 5px #3a485e;\r\n  }\r\n  \r\n  .active .nav-icon {\r\n    box-shadow: inset 1px 1px 3px #202632,\r\n                inset -1px -1px 3px #3a485e;\r\n  }\r\n  \r\n  .logo-text {\r\n    color: #63b3ed;\r\n    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  .username {\r\n    color: #e2e8f0;\r\n  }\r\n  \r\n  .role {\r\n    color: #a0aec0;\r\n  }\r\n  \r\n  .avatar {\r\n    border-color: #2d3748;\r\n    box-shadow: 2px 2px 4px #202632,\r\n                -2px -2px 4px #3a485e;\r\n  }\r\n  \r\n  .status-dot {\r\n    border-color: #2d3748;\r\n  }\r\n  \r\n  .admin-header {\r\n    background-color: #2d3748;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  .neomorphic-header {\r\n    box-shadow: 0 4px 10px -6px #202632;\r\n  }\r\n  \r\n  .header-left .page-title {\r\n    color: #e2e8f0;\r\n    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  .user-info-header .username {\r\n    color: #e2e8f0;\r\n  }\r\n  \r\n  .neomorphic-dropdown-trigger {\r\n    background: #2d3748;\r\n    box-shadow: 3px 3px 6px #202632,\r\n                -3px -3px 6px #3a485e;\r\n  }\r\n  \r\n  .user-info-header:hover {\r\n    box-shadow: 4px 4px 8px #202632,\r\n                -4px -4px 8px #3a485e;\r\n  }\r\n  \r\n  .user-info-header .avatar {\r\n    border-color: #2d3748;\r\n    box-shadow: 2px 2px 4px #202632,\r\n                -2px -2px 4px #3a485e;\r\n  }\r\n  \r\n  .admin-main {\r\n    background-color: #2d3748;\r\n  }\r\n\r\n  .sidebar-footer .user-info {\r\n    background: #2d3748;\r\n    box-shadow: 3px 3px 6px #202632,\r\n                -3px -3px 6px #3a485e;\r\n  }\r\n\r\n  .sidebar-footer .user-info:hover {\r\n    box-shadow: 4px 4px 8px #202632,\r\n                -4px -4px 8px #3a485e;\r\n  }\r\n\r\n  .sidebar-footer .avatar {\r\n    border-color: #2d3748;\r\n    box-shadow: 2px 2px 4px #202632,\r\n                -2px -2px 4px #3a485e;\r\n  }\r\n\r\n  .sidebar-footer .status-dot {\r\n    border-color: #2d3748;\r\n  }\r\n\r\n  .sidebar-footer .username {\r\n    color: #e2e8f0;\r\n  }\r\n\r\n  .sidebar-footer .role {\r\n    color: #a0aec0;\r\n  }\r\n}\r\n\r\n.profile-dialog {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  backdrop-filter: blur(5px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n.profile-dialog-content {\r\n  width: 90%;\r\n  max-width: 460px;\r\n  background: #e6e7ee;\r\n  border-radius: 16px;\r\n  padding: 20px;\r\n  position: relative;\r\n  animation: slideIn 0.3s ease;\r\n}\r\n\r\n@keyframes slideIn {\r\n  from { \r\n    transform: translateY(-20px);\r\n    opacity: 0;\r\n  }\r\n  to { \r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.neomorphic-panel {\r\n  box-shadow: 6px 6px 12px #c3c4ca,\r\n              -6px -6px 12px #ffffff;\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.profile-dialog-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.profile-dialog-header h2 {\r\n  font-size: 20px;\r\n  color: #44476a;\r\n  margin: 0;\r\n  font-weight: 600;\r\n}\r\n\r\n.close-btn {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  border: none;\r\n  background: none;\r\n  color: #44476a;\r\n}\r\n\r\n.neomorphic-btn {\r\n  background: #e6e7ee;\r\n  box-shadow: 4px 4px 8px #c3c4ca,\r\n              -4px -4px 8px #ffffff;\r\n  border: 1px solid rgba(255, 255, 255, 0.6);\r\n}\r\n\r\n.neomorphic-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 6px 6px 12px #c3c4ca,\r\n              -6px -6px 12px #ffffff;\r\n}\r\n\r\n.neomorphic-btn:active {\r\n  transform: translateY(1px);\r\n  box-shadow: inset 2px 2px 5px #c3c4ca,\r\n              inset -2px -2px 5px #ffffff;\r\n}\r\n\r\n.avatar-section {\r\n  text-align: center;\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.avatar-uploader {\r\n  width: 90px;\r\n  height: 90px;\r\n  margin: 0 auto;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.neomorphic-upload {\r\n  background: #e6e7ee;\r\n  box-shadow: inset 2px 2px 4px #c3c4ca,\r\n              inset -2px -2px 4px #ffffff;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.avatar-uploader:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.avatar {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.avatar-placeholder {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.upload-icon {\r\n  font-size: 32px;\r\n  color: #44476a;\r\n}\r\n\r\n.upload-hint {\r\n  margin-top: 8px;\r\n  font-size: 13px;\r\n  color: #44476a;\r\n}\r\n\r\n.profile-tabs {\r\n  margin-top: 20px;\r\n}\r\n\r\n.neomorphic-tabs {\r\n  background: #e6e7ee;\r\n  border-radius: 12px;\r\n  padding: 15px;\r\n  box-shadow: inset 1px 1px 3px #c3c4ca,\r\n              inset -1px -1px 3px #ffffff;\r\n}\r\n\r\n.tab-headers {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.tab-btn {\r\n  flex: 1;\r\n  padding: 8px 12px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #44476a;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  background: #e6e7ee;\r\n  box-shadow: 2px 2px 4px #c3c4ca,\r\n              -2px -2px 4px #ffffff;\r\n}\r\n\r\n.tab-btn:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.tab-btn.active {\r\n  color: #4a6cf7;\r\n  box-shadow: inset 2px 2px 5px #c3c4ca,\r\n              inset -2px -2px 5px #ffffff;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 6px;\r\n  font-size: 13px;\r\n  color: #44476a;\r\n  font-weight: 500;\r\n}\r\n\r\n.input-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.neomorphic-input {\r\n  background: #e6e7ee;\r\n  border-radius: 8px;\r\n  box-shadow: inset 1px 1px 3px #c3c4ca,\r\n              inset -1px -1px 3px #ffffff;\r\n  padding: 2px;\r\n}\r\n\r\n.input-wrapper input {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  color: #44476a;\r\n  background: #e6e7ee;\r\n  transition: all 0.2s ease;\r\n  outline: none;\r\n}\r\n\r\n.input-wrapper input:focus {\r\n  box-shadow: inset 3px 3px 6px #c3c4ca,\r\n              inset -3px -3px 6px #ffffff;\r\n}\r\n\r\n.input-wrapper input:disabled {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.form-actions {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.submit-btn {\r\n  padding: 8px 20px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: white;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  border: none;\r\n  background: #4a6cf7;\r\n}\r\n\r\n/* Dark mode adaptation */\r\n@media (prefers-color-scheme: dark) {\r\n  .profile-dialog-content {\r\n    background: #2d3748;\r\n  }\r\n\r\n  .neomorphic-panel {\r\n    box-shadow: 4px 4px 8px #202632,\r\n                -4px -4px 8px #3a485e;\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  .profile-dialog-header h2 {\r\n    color: #e2e8f0;\r\n  }\r\n\r\n  .close-btn {\r\n    color: #e2e8f0;\r\n  }\r\n\r\n  .neomorphic-btn {\r\n    background: #2d3748;\r\n    box-shadow: 2px 2px 4px #202632,\r\n                -2px -2px 4px #3a485e;\r\n  }\r\n\r\n  .neomorphic-btn:hover {\r\n    box-shadow: 6px 6px 12px #202632,\r\n                -6px -6px 12px #3a485e;\r\n  }\r\n\r\n  .neomorphic-btn:active {\r\n    box-shadow: inset 2px 2px 5px #202632,\r\n                inset -2px -2px 5px #3a485e;\r\n  }\r\n\r\n  .neomorphic-upload {\r\n    background: #2d3748;\r\n    box-shadow: inset 2px 2px 4px #202632,\r\n                inset -2px -2px 4px #3a485e;\r\n    border: 2px solid rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  .upload-icon {\r\n    color: #e2e8f0;\r\n  }\r\n\r\n  .upload-hint {\r\n    color: #e2e8f0;\r\n  }\r\n\r\n  .neomorphic-tabs {\r\n    background: #2d3748;\r\n    box-shadow: inset 1px 1px 3px #202632,\r\n                inset -1px -1px 3px #3a485e;\r\n  }\r\n\r\n  .tab-btn {\r\n    background: #2d3748;\r\n    color: #e2e8f0;\r\n    box-shadow: 2px 2px 4px #202632,\r\n                -2px -2px 4px #3a485e;\r\n  }\r\n\r\n  .tab-btn.active {\r\n    color: #63b3ed;\r\n    box-shadow: inset 1px 1px 3px #202632,\r\n                inset -1px -1px 3px #3a485e;\r\n  }\r\n\r\n  .form-group label {\r\n    color: #e2e8f0;\r\n  }\r\n\r\n  .neomorphic-input {\r\n    background: #2d3748;\r\n    box-shadow: inset 1px 1px 3px #202632,\r\n                inset -1px -1px 3px #3a485e;\r\n  }\r\n\r\n  .input-wrapper input {\r\n    background: #2d3748;\r\n    color: #e2e8f0;\r\n  }\r\n\r\n  .submit-btn {\r\n    background: #4299e1;\r\n  }\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .profile-dialog-content {\r\n    width: 95%;\r\n    padding: 20px;\r\n  }\r\n\r\n  .tab-headers {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .form-actions {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .submit-btn {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}