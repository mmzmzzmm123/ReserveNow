{"ast":null,"code":"import { ref, onMounted, computed, watch } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nimport { ArrowLeft, Star, Share, Location, Phone, Clock, Calendar, DeskLamp, User, TrophyBase, MapLocation, Picture, Food, Timer, SetUp, InfoFilled, Check, Warning, Memo, Menu, VideoPlay, Filter, DishDot } from \"@element-plus/icons-vue\";\nimport request from \"@/utils/request\";\nimport AppFooter from \"@/components/AppFooter.vue\";\nexport default {\n  __name: 'RestaurantDetail',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const route = useRoute();\n    const restaurantId = route.params.id;\n\n    // Restaurant data\n    const restaurant = ref({\n      photos: [],\n      tables: []\n    });\n    const loading = ref(true);\n\n    // Review related data\n    const reviewsLoading = ref(false);\n    const reviewsList = ref([]);\n    const reviewsTotal = ref(0);\n    const reviewsPage = ref(1);\n    const reviewsPageSize = ref(5);\n    const reviewsRating = ref(null);\n\n    // Get user info\n    const userInfo = ref(JSON.parse(localStorage.getItem(\"userInfo\") || \"{}\"));\n    const isUserLoggedIn = computed(() => {\n      return !!userInfo.value && !!userInfo.value.token;\n    });\n\n    // Get restaurant details\n    const fetchRestaurantDetail = async () => {\n      loading.value = true;\n      try {\n        const headers = {};\n        if (isUserLoggedIn.value) {\n          headers.Authorization = `Bearer ${userInfo.value.token}`;\n        }\n        const res = await request({\n          url: `/restaurants/${restaurantId}`,\n          method: \"GET\",\n          headers\n        });\n        restaurant.value = res.data;\n\n        // Ensure photos is an array\n        if (!restaurant.value.photos) {\n          restaurant.value.photos = [];\n        }\n\n        // Ensure tables is an array\n        if (!restaurant.value.tables) {\n          restaurant.value.tables = [];\n        }\n\n        // Ensure latitude and longitude are numeric\n        if (restaurant.value.latitude && restaurant.value.longitude) {\n          restaurant.value.latitude = parseFloat(restaurant.value.latitude);\n          restaurant.value.longitude = parseFloat(restaurant.value.longitude);\n        }\n      } catch (error) {\n        console.error(\"Failed to get restaurant details\", error);\n        ElMessage.error(\"Failed to get restaurant information, please try again later\");\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Go back to previous page\n    const goBack = () => {\n      router.push(\"/\");\n    };\n\n    // Toggle favorite\n    const toggleFavorite = async () => {\n      if (!isUserLoggedIn.value) {\n        ElMessage.warning(\"Please login first to favorite a restaurant\");\n        router.push(\"/login\");\n        return;\n      }\n      try {\n        if (restaurant.value.isFavorite) {\n          // Remove from favorites\n          await request({\n            url: `/favorites/${restaurantId}`,\n            method: \"DELETE\",\n            headers: {\n              Authorization: `Bearer ${userInfo.value.token}`\n            }\n          });\n          ElMessage.success(\"Removed from favorites\");\n          restaurant.value.isFavorite = false;\n        } else {\n          // Add to favorites\n          await request({\n            url: \"/favorites\",\n            method: \"POST\",\n            headers: {\n              Authorization: `Bearer ${userInfo.value.token}`\n            },\n            data: {\n              restaurantId: parseInt(restaurantId)\n            }\n          });\n          ElMessage.success(\"Added to favorites\");\n          restaurant.value.isFavorite = true;\n        }\n      } catch (error) {\n        ElMessage.error(error.response?.data?.message || \"Operation failed, please try again later\");\n        console.error(\"Favorite operation failed\", error);\n      }\n    };\n\n    // Filter by rating\n    const filterReviewsByRating = rating => {\n      // If clicking on the currently selected rating, set to null (all)\n      // Otherwise set to the selected rating\n      const newRating = rating === reviewsRating.value ? null : rating;\n\n      // If rating hasn't changed, don't do anything\n      if (newRating === reviewsRating.value) return;\n\n      // 获取评论容器并保存当前高度\n      const reviewsContainer = document.querySelector(\".reviews-container\");\n      if (reviewsContainer) {\n        const currentHeight = reviewsContainer.offsetHeight;\n        reviewsContainer.style.minHeight = `${currentHeight}px`;\n      }\n\n      // Set loading to true first, but don't clear the current list\n      reviewsLoading.value = true;\n\n      // Then update the filter rating\n      reviewsRating.value = newRating;\n\n      // Delay a bit before fetching data to allow UI to show loading state\n      setTimeout(() => {\n        // Reset page number and get new data\n        reviewsPage.value = 1;\n        fetchReviews(false, true); // Pass the second parameter to indicate this is a filter operation\n      }, 100);\n    };\n\n    // Get restaurant reviews\n    const fetchReviews = async (loadMore = false, isFilter = false) => {\n      // If loading more, increment the page number\n      if (loadMore) {\n        reviewsPage.value++;\n      } else if (!isFilter) {\n        // Only reset page number and set loading state in non-filter situations\n        // In filter situations, page number has already been reset in filterReviewsByRating, and loading state has been set\n        reviewsPage.value = 1;\n        reviewsLoading.value = true;\n      }\n      try {\n        const res = await request({\n          url: `/restaurants/${restaurantId}/reviews`,\n          method: \"GET\",\n          params: {\n            page: reviewsPage.value,\n            pageSize: reviewsPageSize.value,\n            rating: reviewsRating.value || undefined\n          }\n        });\n\n        // If loading more, add new data to the end of the existing list\n        if (loadMore) {\n          reviewsList.value = [...reviewsList.value, ...res.data.list];\n        } else {\n          // Otherwise, replace the existing list with new data\n          // To avoid flickering, use a short delay\n          const newReviews = res.data.list || [];\n          if (isFilter) {\n            // 平滑过渡：先降低当前评论的透明度，但保持高度\n            const reviewsContainer = document.querySelector(\".reviews-list\");\n            if (reviewsContainer) {\n              reviewsContainer.style.opacity = \"0.3\";\n              reviewsContainer.style.transition = \"opacity 0.3s ease\";\n              // 保持原有的高度\n              const currentHeight = reviewsContainer.offsetHeight;\n              reviewsContainer.style.minHeight = `${currentHeight}px`;\n\n              // 短暂延迟后替换数据，给过渡效果时间\n              setTimeout(() => {\n                reviewsList.value = newReviews;\n                // 在下一个渲染周期恢复透明度\n                setTimeout(() => {\n                  if (reviewsContainer) {\n                    reviewsContainer.style.opacity = \"1\";\n                    // 如果新内容足够高，30秒后可以移除最小高度限制\n                    setTimeout(() => {\n                      reviewsContainer.style.minHeight = '';\n                    }, 30000);\n                  }\n                  reviewsLoading.value = false;\n                }, 50);\n              }, 300);\n            } else {\n              reviewsList.value = newReviews;\n              reviewsLoading.value = false;\n            }\n          } else {\n            reviewsList.value = newReviews;\n            reviewsLoading.value = false;\n          }\n        }\n        reviewsTotal.value = res.data.total || 0;\n      } catch (error) {\n        console.error(\"Failed to fetch reviews\", error);\n        ElMessage.error(\"Failed to load review information, please try again later\");\n        reviewsLoading.value = false;\n      }\n    };\n\n    // Load more reviews\n    const loadMoreReviews = () => {\n      if (reviewsList.value.length < reviewsTotal.value) {\n        fetchReviews(true);\n      }\n    };\n\n    // Format review time\n    const formatReviewTime = dateString => {\n      const date = new Date(dateString);\n      return date.toLocaleDateString(\"zh-CN\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      });\n    };\n\n    // Format business hours\n    const formatBusinessHours = hours => {\n      if (!hours) return \"No business hours information\";\n      const time = [];\n      hours.split(\"|\").map((item, index) => {\n        time[index] = item;\n      });\n      return time.join(\" / \");\n    };\n\n    // Format selected date and type\n    const formatSelectedDay = date => {\n      if (!date) return \"\";\n      const dayOfWeek = date.getDay(); // 0 is Sunday, 6 is Saturday\n      const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;\n      const dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n      const formattedDate = `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`;\n      return `${formattedDate} ${dayNames[dayOfWeek]}（${isWeekend ? \"Weekend\" : \"Weekday\"}）`;\n    };\n\n    // Get status code\n    const getStatusCode = status => {\n      const statusMap = {\n        待审核: \"pending\",\n        审核通过: \"approved\",\n        已关闭: \"closed\",\n        运营中: \"operating\",\n        运营: \"operating\"\n      };\n      return statusMap[status] || \"unknown\";\n    };\n\n    // Open Google Maps navigation\n    const openGoogleMapsNavigation = () => {\n      if (restaurant.value.latitude && restaurant.value.longitude) {\n        const url = `https://www.google.com/maps/dir/?api=1&destination=${restaurant.value.latitude},${restaurant.value.longitude}`;\n        window.open(url, \"_blank\");\n      } else {\n        ElMessage.warning(\"Unable to retrieve restaurant location information\");\n      }\n    };\n\n    // Reservation-related state\n    const timeSelectionVisible = ref(false);\n    const selectedTable = ref(null);\n    const selectedDate = ref(new Date());\n    const selectedTimeSlots = ref([]);\n    const availableTimeSlots = ref([]);\n    const loadingTimeSlots = ref(false);\n    const bookedTimeSlots = ref([]);\n    const personCount = ref(1);\n    const reservationRemarks = ref(\"\");\n\n    // Select table\n    const selectTable = table => {\n      if (!isUserLoggedIn.value) {\n        ElMessage.warning(\"Please log in before reserving a table\");\n        router.push(\"/login\");\n        return;\n      }\n      selectedTable.value = table;\n      // Default to tomorrow instead of today\n      const tomorrow = new Date();\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      selectedDate.value = tomorrow;\n      selectedTimeSlots.value = [];\n      personCount.value = Math.min(table.capacity || 4, 4); // Default to 4 or smaller value of table capacity\n      reservationRemarks.value = \"\";\n      timeSelectionVisible.value = true;\n\n      // Load reservation details for this table\n      fetchTableReservations();\n    };\n\n    // Disable dates before today\n    const disabledDate = time => {\n      // Get the time at midnight of tomorrow (excluding hours, minutes, seconds)\n      const tomorrow = new Date();\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      tomorrow.setHours(0, 0, 0, 0);\n\n      // Disable all dates before tomorrow (including today)\n      return time.getTime() < tomorrow.getTime();\n    };\n\n    // Handle date change\n    const handleDateChange = () => {\n      selectedTimeSlots.value = []; // Clear selected times\n      generateTimeSlots(); // Regenerate times for today\n      fetchTableReservations(); // Get reservations for today\n    };\n\n    // Generate time slots\n    const generateTimeSlots = () => {\n      availableTimeSlots.value = [];\n\n      // Default business hours are 11:00-22:00, if restaurant has business hours, parse them\n      let startHour = 11;\n      let endHour = 22;\n      if (restaurant.value.businessHours) {\n        // Parse business hours string, format is \"Monday-Friday 11:00-22:00|Weekend 10:00-23:00\"\n        const businessHoursParts = restaurant.value.businessHours.split(\"|\");\n\n        // Check if the selected date is a weekend\n        const selectedDay = selectedDate.value.getDay(); // 0 is Sunday, 6 is Saturday\n        const isWeekend = selectedDay === 0 || selectedDay === 6;\n\n        // Depending on whether it's a weekend, choose the corresponding business hours\n        let todayHours;\n        if (isWeekend) {\n          // Find a time period that includes \"weekend\", \"Saturday\", or \"Sunday\"\n          todayHours = businessHoursParts.find(hours => hours.includes(\"weekend\") || hours.includes(\"Saturday\") || hours.includes(\"Sunday\") || hours.includes(\"Saturday-Sunday\"));\n        } else {\n          // Find a time period that includes \"Monday-Friday\" or weekdays\n          todayHours = businessHoursParts.find(hours => hours.includes(\"Monday-Friday\") || hours.includes(\"weekdays\") || hours.includes(\"week\") && !hours.includes(\"weekend\") && !hours.includes(\"Saturday\") && !hours.includes(\"Sunday\"));\n        }\n\n        // If no matching time period is found, use the first time period as default\n        if (!todayHours && businessHoursParts.length > 0) {\n          todayHours = businessHoursParts[0];\n        }\n        if (todayHours) {\n          // Extract time part, e.g., \"11:00-22:00\"\n          const timeMatch = todayHours.match(/(\\d{1,2}):(\\d{2})-(\\d{1,2}):(\\d{2})/);\n          if (timeMatch) {\n            startHour = parseInt(timeMatch[1]);\n            endHour = parseInt(timeMatch[3]);\n            console.log(`Current selected date type: ${isWeekend ? \"weekend\" : \"weekday\"}, business hours: ${startHour}:00-${endHour}:00`);\n          }\n        }\n      }\n\n      // Generate time slots, one per hour\n      for (let hour = startHour; hour < endHour; hour++) {\n        const timeValue = `${hour.toString().padStart(2, \"0\")}:00`;\n        availableTimeSlots.value.push({\n          label: `${hour}:00-${hour + 1}:00`,\n          value: timeValue,\n          hour: hour,\n          disabled: false // Initially all are available, will be disabled later in fetchTableReservations\n        });\n      }\n    };\n\n    // Get table reservation details\n    const fetchTableReservations = async () => {\n      if (!selectedTable.value || !selectedDate.value) return;\n      loadingTimeSlots.value = true;\n      try {\n        // Get selected date in string format, format is YYYY-MM-DD\n        const selectedDateString = selectedDate.value.toISOString().split(\"T\")[0];\n        const response = await request({\n          url: `/reservations/table/${selectedTable.value.id}/future`,\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${userInfo.value.token}`\n          },\n          params: {\n            date: selectedDateString\n          }\n        });\n\n        // Update reserved time slots\n        bookedTimeSlots.value = response.data || [];\n\n        // Initialize all time slots as available\n        availableTimeSlots.value.forEach(slot => {\n          slot.disabled = false;\n        });\n\n        // Loop through all reserved time periods and disable corresponding time slots\n        bookedTimeSlots.value.forEach(booking => {\n          if (!booking.reservationTime) return;\n\n          // Parse reservation time and date\n          const bookingDate = new Date(booking.reservationTime);\n          const bookingDateString = bookingDate.toISOString().split(\"T\")[0];\n\n          // Only handle reservations for the current day\n          if (bookingDateString === selectedDateString) {\n            const reservationHour = bookingDate.getUTCHours();\n            const duration = booking.reservationDate || 1; // Use reservation duration, default is 1 hour\n\n            // Disable all time slots occupied by the current reservation\n            availableTimeSlots.value.forEach(slot => {\n              if (slot.hour >= reservationHour && slot.hour < reservationHour + duration) {\n                slot.disabled = true;\n              }\n            });\n          }\n        });\n      } catch (error) {\n        console.error(\"Failed to fetch reservation information\", error);\n        ElMessage.error(\"Failed to load reservation information, please try again later\");\n      } finally {\n        loadingTimeSlots.value = false;\n      }\n    };\n\n    // Handle time selection\n    const handleTimeSelection = timeSlot => {\n      const index = selectedTimeSlots.value.findIndex(slot => slot.value === timeSlot.value);\n      if (index > -1) {\n        // If already selected, remove selection\n        selectedTimeSlots.value.splice(index, 1);\n      } else {\n        // If not selected, add to selection list\n        selectedTimeSlots.value.push(timeSlot);\n      }\n\n      // Sort selected time slots\n      selectedTimeSlots.value.sort((a, b) => a.hour - b.hour);\n\n      // Check if they are consecutive\n      validateTimeSelection();\n    };\n\n    // Validate time selection\n    const validateTimeSelection = () => {\n      if (selectedTimeSlots.value.length <= 1) {\n        return true;\n      }\n\n      // Copy and sort by hour\n      const sortedSlots = [...selectedTimeSlots.value].sort((a, b) => a.hour - b.hour);\n\n      // Check if times are consecutive\n      for (let i = 1; i < sortedSlots.length; i++) {\n        if (sortedSlots[i].hour !== sortedSlots[i - 1].hour + 1) {\n          ElMessage.warning(\"Please select consecutive time slots\");\n          // Remove the last added time slot that is not consecutive\n          selectedTimeSlots.value = selectedTimeSlots.value.filter(slot => slot.value !== sortedSlots[i].value);\n          return false;\n        }\n      }\n      return true;\n    };\n\n    // Get selected time range display\n    const selectedTimeRange = computed(() => {\n      if (!selectedTimeSlots.value.length) return \"\";\n\n      // Sort by hour\n      const sortedSlots = [...selectedTimeSlots.value].sort((a, b) => a.hour - b.hour);\n      if (sortedSlots.length === 1) {\n        return sortedSlots[0].label;\n      }\n      const startHour = sortedSlots[0].hour;\n      const endHour = sortedSlots[sortedSlots.length - 1].hour + 1;\n      return `${startHour}:00-${endHour}:00`;\n    });\n\n    // Confirm reservation\n    const confirmReservation = async () => {\n      if (!selectedTable.value || !selectedDate.value || selectedTimeSlots.value.length === 0) {\n        ElMessage.warning(\"Please select a reservation time\");\n        return;\n      }\n      if (personCount.value <= 0 || personCount.value > selectedTable.value.capacity) {\n        ElMessage.warning(`Number of diners must be between 1 and ${selectedTable.value.capacity}`);\n        return;\n      }\n      try {\n        const dateStr = selectedDate.value.toISOString().split(\"T\")[0];\n\n        // Sort selected time slots by hour\n        const sortedSlots = [...selectedTimeSlots.value].sort((a, b) => a.hour - b.hour);\n        const startTime = sortedSlots[0].value;\n\n        // Calculate reservation duration (in hours)\n        const reservationDuration = sortedSlots.length;\n\n        // Assemble ISO format time string \"2023-04-20T18:30:00Z\"\n        const reservationTime = `${dateStr}T${startTime}:00Z`;\n        await request({\n          url: \"/reservations\",\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${userInfo.value.token}`\n          },\n          data: {\n            restaurantId: parseInt(restaurantId),\n            tableId: parseInt(selectedTable.value.id),\n            reservationTime: reservationTime,\n            reservationDate: reservationDuration,\n            // Use reservationDate as a duration attribute\n            personCount: personCount.value,\n            remarks: reservationRemarks.value\n          }\n        });\n        ElMessage.success(\"Reservation successful\");\n        timeSelectionVisible.value = false;\n\n        // Clear selection\n        selectedTimeSlots.value = [];\n        personCount.value = 1;\n        reservationRemarks.value = \"\";\n\n        // After successful reservation, you can redirect to my reservations page or stay on the current page\n        // router.push('/my-reservations');\n      } catch (error) {\n        ElMessage.error(error.response?.data?.message || \"Failed to make reservation, please try again later\");\n        console.error(\"Failed to make reservation\", error);\n      }\n    };\n\n    // Listen for date change to generate time slots\n    watch(selectedDate, () => {\n      // Clear previous selection\n      selectedTimeSlots.value = [];\n      generateTimeSlots();\n    });\n\n    // Generate default time slots when mounted\n    onMounted(() => {\n      fetchRestaurantDetail();\n      generateTimeSlots();\n      fetchReviews();\n    });\n\n    // Video control methods\n    const playVideo = event => {\n      event.preventDefault();\n      const videoContainer = event.currentTarget;\n      const video = videoContainer.querySelector(\"video\");\n      if (video) {\n        // Handle video play/pause logic\n        if (video.paused) {\n          // If video is paused, play video\n          videoContainer.classList.add(\"playing\");\n          video.play().catch(error => {\n            console.error(\"Failed to play video:\", error);\n            videoContainer.classList.remove(\"playing\");\n          });\n\n          // Add event listener for video end\n          video.onended = () => {\n            videoContainer.classList.remove(\"playing\");\n          };\n        } else {\n          // If video is playing, pause video\n          video.pause();\n          videoContainer.classList.remove(\"playing\");\n        }\n      }\n    };\n\n    // Update tableTypes computed property to handle English table types\n    const tableTypes = computed(() => {\n      const types = {};\n\n      // Group tables by type and count\n      if (restaurant.value?.tables && restaurant.value.tables.length > 0) {\n        // First find all available table types\n        const availableTypes = new Set();\n        restaurant.value.tables.forEach(table => {\n          availableTypes.add(table.type);\n        });\n\n        // Then count by type\n        restaurant.value.tables.forEach(table => {\n          // Get table type\n          let typeName, typeColor, typeIcon;\n          if (table.type.includes('VIP')) {\n            typeName = 'VIP Table';\n            typeColor = '#ff9800';\n            typeIcon = 'TrophyBase';\n          } else if (table.type === 'Standard' || table.type === 'Standard Table') {\n            typeName = 'Standard Table';\n            typeColor = '#26a69a';\n            typeIcon = 'Menu';\n          } else {\n            // For other unrecognized types, use the type name\n            typeName = table.type || 'Regular Table';\n            typeColor = '#5e6687';\n            typeIcon = 'Menu';\n          }\n          if (!types[typeName]) {\n            types[typeName] = {\n              name: typeName,\n              count: 1,\n              color: typeColor,\n              icon: typeIcon,\n              cssVar: typeColor // Store CSS variable\n            };\n          } else {\n            types[typeName].count++;\n          }\n        });\n      }\n\n      // Convert to array\n      return Object.values(types);\n    });\n    const tableListVisible = ref(false);\n    const selectedTableType = ref('');\n\n    // Filtered table list\n    const filteredTables = computed(() => {\n      if (!selectedTableType.value || !restaurant.value?.tables) return [];\n\n      // Filter tables by selected type\n      return restaurant.value.tables.filter(table => {\n        if (selectedTableType.value === 'VIP Table' && table.type.includes('VIP')) {\n          return true;\n        } else if (selectedTableType.value === 'Standard Table' && (table.type === 'Standard' || table.type === 'Standard Table')) {\n          return true;\n        } else if (selectedTableType.value === table.type) {\n          // Direct match for type name\n          return true;\n        }\n        return false;\n      });\n    });\n\n    // Show tables by type\n    const showTablesByType = typeName => {\n      selectedTableType.value = typeName;\n      tableListVisible.value = true;\n    };\n\n    // Table capacity filter\n    const capacityFilter = ref('all');\n\n    // Filter tables by capacity\n    const filteredTablesByCapacity = computed(() => {\n      if (capacityFilter.value === 'all') {\n        return filteredTables.value;\n      }\n      return filteredTables.value.filter(table => {\n        const capacity = table.capacity || 0;\n        if (capacityFilter.value === '1-2') {\n          return capacity >= 1 && capacity <= 2;\n        } else if (capacityFilter.value === '3-4') {\n          return capacity >= 3 && capacity <= 4;\n        } else if (capacityFilter.value === '5-8') {\n          return capacity >= 5 && capacity <= 8;\n        } else if (capacityFilter.value === '9+') {\n          return capacity >= 9;\n        }\n        return true;\n      });\n    });\n    const __returned__ = {\n      router,\n      route,\n      restaurantId,\n      restaurant,\n      loading,\n      reviewsLoading,\n      reviewsList,\n      reviewsTotal,\n      reviewsPage,\n      reviewsPageSize,\n      reviewsRating,\n      userInfo,\n      isUserLoggedIn,\n      fetchRestaurantDetail,\n      goBack,\n      toggleFavorite,\n      filterReviewsByRating,\n      fetchReviews,\n      loadMoreReviews,\n      formatReviewTime,\n      formatBusinessHours,\n      formatSelectedDay,\n      getStatusCode,\n      openGoogleMapsNavigation,\n      timeSelectionVisible,\n      selectedTable,\n      selectedDate,\n      selectedTimeSlots,\n      availableTimeSlots,\n      loadingTimeSlots,\n      bookedTimeSlots,\n      personCount,\n      reservationRemarks,\n      selectTable,\n      disabledDate,\n      handleDateChange,\n      generateTimeSlots,\n      fetchTableReservations,\n      handleTimeSelection,\n      validateTimeSelection,\n      selectedTimeRange,\n      confirmReservation,\n      playVideo,\n      tableTypes,\n      tableListVisible,\n      selectedTableType,\n      filteredTables,\n      showTablesByType,\n      capacityFilter,\n      filteredTablesByCapacity,\n      ref,\n      onMounted,\n      computed,\n      watch,\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get ArrowLeft() {\n        return ArrowLeft;\n      },\n      get Star() {\n        return Star;\n      },\n      get Share() {\n        return Share;\n      },\n      get Location() {\n        return Location;\n      },\n      get Phone() {\n        return Phone;\n      },\n      get Clock() {\n        return Clock;\n      },\n      get Calendar() {\n        return Calendar;\n      },\n      get DeskLamp() {\n        return DeskLamp;\n      },\n      get User() {\n        return User;\n      },\n      get TrophyBase() {\n        return TrophyBase;\n      },\n      get MapLocation() {\n        return MapLocation;\n      },\n      get Picture() {\n        return Picture;\n      },\n      get Food() {\n        return Food;\n      },\n      get Timer() {\n        return Timer;\n      },\n      get SetUp() {\n        return SetUp;\n      },\n      get InfoFilled() {\n        return InfoFilled;\n      },\n      get Check() {\n        return Check;\n      },\n      get Warning() {\n        return Warning;\n      },\n      get Memo() {\n        return Memo;\n      },\n      get Menu() {\n        return Menu;\n      },\n      get VideoPlay() {\n        return VideoPlay;\n      },\n      get Filter() {\n        return Filter;\n      },\n      get DishDot() {\n        return DishDot;\n      },\n      get request() {\n        return request;\n      },\n      AppFooter\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","watch","useRouter","useRoute","ElMessage","ArrowLeft","Star","Share","Location","Phone","Clock","Calendar","DeskLamp","User","TrophyBase","MapLocation","Picture","Food","Timer","SetUp","InfoFilled","Check","Warning","Memo","Menu","VideoPlay","Filter","DishDot","request","AppFooter","router","route","restaurantId","params","id","restaurant","photos","tables","loading","reviewsLoading","reviewsList","reviewsTotal","reviewsPage","reviewsPageSize","reviewsRating","userInfo","JSON","parse","localStorage","getItem","isUserLoggedIn","value","token","fetchRestaurantDetail","headers","Authorization","res","url","method","data","latitude","longitude","parseFloat","error","console","goBack","push","toggleFavorite","warning","isFavorite","success","parseInt","response","message","filterReviewsByRating","rating","newRating","reviewsContainer","document","querySelector","currentHeight","offsetHeight","style","minHeight","setTimeout","fetchReviews","loadMore","isFilter","page","pageSize","undefined","list","newReviews","opacity","transition","total","loadMoreReviews","length","formatReviewTime","dateString","date","Date","toLocaleDateString","year","month","day","formatBusinessHours","hours","time","split","map","item","index","join","formatSelectedDay","dayOfWeek","getDay","isWeekend","dayNames","formattedDate","getFullYear","getMonth","getDate","getStatusCode","status","statusMap","待审核","审核通过","已关闭","运营中","运营","openGoogleMapsNavigation","window","open","timeSelectionVisible","selectedTable","selectedDate","selectedTimeSlots","availableTimeSlots","loadingTimeSlots","bookedTimeSlots","personCount","reservationRemarks","selectTable","table","tomorrow","setDate","Math","min","capacity","fetchTableReservations","disabledDate","setHours","getTime","handleDateChange","generateTimeSlots","startHour","endHour","businessHours","businessHoursParts","selectedDay","todayHours","find","includes","timeMatch","match","log","hour","timeValue","toString","padStart","label","disabled","selectedDateString","toISOString","forEach","slot","booking","reservationTime","bookingDate","bookingDateString","reservationHour","getUTCHours","duration","reservationDate","handleTimeSelection","timeSlot","findIndex","splice","sort","a","b","validateTimeSelection","sortedSlots","i","filter","selectedTimeRange","confirmReservation","dateStr","startTime","reservationDuration","tableId","remarks","playVideo","event","preventDefault","videoContainer","currentTarget","video","paused","classList","add","play","catch","remove","onended","pause","tableTypes","types","availableTypes","Set","type","typeName","typeColor","typeIcon","name","count","color","icon","cssVar","Object","values","tableListVisible","selectedTableType","filteredTables","showTablesByType","capacityFilter","filteredTablesByCapacity"],"sources":["/Users/taoyuxuan/Documents/RestaurantReservation/qd/src/views/RestaurantDetail.vue"],"sourcesContent":["<template>\n  <div class=\"restaurant-detail-container\">\n    <!-- Top Navigation Bar -->\n    <header class=\"detail-header\">\n      <div class=\"header-actions\">\n        <el-button class=\"back-button\" @click=\"goBack\" circle>\n          <el-icon><ArrowLeft /></el-icon>\n        </el-button>\n        <div class=\"actions-right\">\n          <el-button\n            class=\"favorite-button\"\n            @click=\"toggleFavorite\"\n            circle\n            :class=\"{ 'is-favorite': restaurant.isFavorite }\"\n          >\n            <el-icon><Star /></el-icon>\n          </el-button>\n          <el-button class=\"share-button\" circle>\n            <el-icon><Share /></el-icon>\n          </el-button>\n        </div>\n      </div>\n    </header>\n\n    <!-- Restaurant Photo Gallery -->\n    <div class=\"restaurant-gallery\" v-loading=\"loading\">\n      <el-carousel\n        v-if=\"restaurant.photos && restaurant.photos.length\"\n        height=\"450px\"\n        indicator-position=\"outside\"\n        arrow=\"always\"\n        :autoplay=\"true\"\n        :interval=\"5000\"\n      >\n        <el-carousel-item\n          v-for=\"(photo, index) in restaurant.photos\"\n          :key=\"index\"\n        >\n          <div\n            class=\"gallery-item\"\n            :style=\"{ backgroundImage: `url(${photo})` }\"\n          ></div>\n        </el-carousel-item>\n      </el-carousel>\n      <div v-else class=\"no-photos\">\n        <el-icon><Picture /></el-icon>\n        <p>No restaurant photos</p>\n      </div>\n\n      <!-- Restaurant Title Overlay -->\n      <div class=\"restaurant-title-overlay\">\n        <h1>{{ restaurant.name || \"Loading...\" }}</h1>\n        <div class=\"quick-info\">\n          <div class=\"info-item cuisine\">\n            <el-icon><Food /></el-icon>\n            <span>{{ restaurant.cuisine || \"Mixed Cuisine\" }}</span>\n          </div>\n          <div class=\"rating-display\">\n            <span class=\"rating-value\">{{ restaurant.rating || \"-\" }}</span>\n            <el-rate\n              v-model=\"restaurant.rating\"\n              disabled\n              text-color=\"#ffcc00\"\n            />\n            <span class=\"review-count\"\n              >({{ restaurant.reviewCount || 0 }})</span\n            >\n          </div>\n          <div class=\"info-item\">\n            <el-icon><Location /></el-icon>\n            <span>{{\n              restaurant.address\n                ? restaurant.address.substring(0, 15) + \"...\"\n                : \"No address\"\n            }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Restaurant Basic Information -->\n    <div class=\"restaurant-info-card\" v-loading=\"loading\">\n      <div class=\"info-section\">\n        <div class=\"info-row\">\n          <el-icon><Location /></el-icon>\n          <span>{{ restaurant.address || \"No address information\" }}</span>\n        </div>\n        <div class=\"info-row\">\n          <el-icon><Phone /></el-icon>\n          <span>{{ restaurant.phone || \"No contact number\" }}</span>\n        </div>\n        <div class=\"info-row\">\n          <el-icon><Clock /></el-icon>\n          <span>{{ formatBusinessHours(restaurant.businessHours) }}</span>\n        </div>\n      </div>\n\n      <div class=\"description-section\">\n        <h3>Restaurant Description</h3>\n        <p>{{ restaurant.description || \"No restaurant description\" }}</p>\n      </div>\n    </div>\n\n    <!-- Table Information -->\n    <div class=\"tables-section\" v-loading=\"loading\">\n      <h2 class=\"section-title\">Select Table</h2>\n      \n      <!-- Table type classification panel -->\n      <div class=\"table-types-container\">\n        <div \n          v-for=\"type in tableTypes\" \n          :key=\"type.name\" \n          class=\"table-type-card\"\n          :class=\"{ 'vip-table': type.name.includes('VIP') }\"\n          :style=\"{ '--type-color': type.color }\"\n          @click=\"showTablesByType(type.name)\"\n        >\n          <div class=\"table-type-icon\" :style=\"{ backgroundColor: `${type.color}1a` }\">\n            <el-icon v-if=\"type.icon === 'TrophyBase'\" class=\"type-icon\"><TrophyBase /></el-icon>\n            <el-icon v-else-if=\"type.icon === 'SetUp'\" class=\"type-icon\"><SetUp /></el-icon>\n            <el-icon v-else class=\"type-icon\"><Menu /></el-icon>\n          </div>\n          <div class=\"table-type-info\">\n            <h3 class=\"type-name\">{{ type.name }}</h3>\n            <p class=\"table-count\" :style=\"{ backgroundColor: `${type.color}0a` }\">{{ type.count }} Tables Available</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Table type list dialog -->\n    <el-dialog\n      v-model=\"tableListVisible\"\n      :title=\"selectedTableType\"\n      width=\"850px\"\n      class=\"table-list-dialog\"\n      destroy-on-close\n    >\n      <div class=\"table-filter-bar\">\n        <div class=\"filter-title\">\n          <el-icon><Filter /></el-icon>\n          <span>Table Capacity</span>\n        </div>\n        <div class=\"capacity-filter\">\n          <el-radio-group v-model=\"capacityFilter\" size=\"large\">\n            <el-radio-button label=\"all\">All</el-radio-button>\n            <el-radio-button label=\"1-2\">1-2 people</el-radio-button>\n            <el-radio-button label=\"3-4\">3-4 people</el-radio-button>\n            <el-radio-button label=\"5-8\">5-8 people</el-radio-button>\n            <el-radio-button label=\"9+\">9+ people</el-radio-button>\n          </el-radio-group>\n        </div>\n      </div>\n\n      <div class=\"tables-container\">\n        <div \n          v-for=\"table in filteredTablesByCapacity\" \n          :key=\"table.id\" \n          class=\"table-card-modern\"\n          :class=\"{\n            'vip-table': table.type.includes('VIP'),\n            'standard-table': table.type === 'Standard' || table.type === 'Standard Table'\n          }\"\n          @click=\"selectTable(table)\"\n        >\n          <div class=\"table-backdrop\"></div>\n          \n          <div class=\"table-status-tag\">\n            <span class=\"status-badge available\">Available</span>\n          </div>\n          \n          <div class=\"table-header-modern\">\n            <div class=\"table-icon-container-modern\">\n              <el-icon v-if=\"table.type.includes('VIP')\" class=\"table-icon-modern vip\">\n                <TrophyBase />\n              </el-icon>\n              <el-icon v-else-if=\"table.type === 'Standard' || table.type === 'Standard Table'\" class=\"table-icon-modern standard\">\n                <Menu />\n              </el-icon>\n              <el-icon v-else class=\"table-icon-modern\">\n                <Menu />\n              </el-icon>\n            </div>\n            <div class=\"table-id\">Table No: {{ table.tableNumber || table.id }}</div>\n          </div>\n          \n          <div class=\"table-content-modern\">\n            <h3 class=\"table-type-modern\">{{ table.type }}</h3>\n            \n            <div class=\"table-info-modern\">\n              <div class=\"info-row\">\n                <el-icon><User /></el-icon>\n                <span>{{ table.capacity }} person table</span>\n              </div>\n              <div class=\"info-row\">\n                <el-icon><Clock /></el-icon>\n                <span>Available all day</span>\n              </div>\n            </div>\n            \n            <div class=\"table-features-modern\">\n              <div class=\"feature-tag\" v-if=\"table.type.includes('VIP')\">Premium Booking</div>\n              <div class=\"feature-tag\" v-if=\"table.type.includes('VIP')\">Private Space</div>\n              <div class=\"feature-tag\" v-if=\"table.type.includes('Large')\">Group Dining</div>\n              <div class=\"feature-tag\" v-if=\"table.type.includes('Standard')\">Comfortable Environment</div>\n            </div>\n          </div>\n          \n          <div class=\"table-footer-modern\">\n            <el-button \n              :type=\"table.type.includes('VIP') ? 'warning' : 'primary'\" \n              class=\"select-btn\"\n            >\n              Select This Table\n            </el-button>\n          </div>\n        </div>\n        \n        <div v-if=\"filteredTablesByCapacity.length === 0\" class=\"no-tables-modern\">\n          <el-empty description=\"No tables found matching your criteria\" :image-size=\"200\">\n            <template #image>\n              <div class=\"empty-icon-container\">\n                <el-icon class=\"empty-icon\"><DishDot /></el-icon>\n              </div>\n            </template>\n          </el-empty>\n        </div>\n      </div>\n    </el-dialog>\n\n    <!-- Time Selection Dialog -->\n    <el-dialog\n      v-model=\"timeSelectionVisible\"\n      title=\"Select Reservation Time\"\n      width=\"660px\"\n      destroy-on-close\n      :close-on-click-modal=\"false\"\n      class=\"time-selection-dialog\"\n      :show-close=\"true\"\n    >\n      <div v-if=\"selectedTable\" class=\"time-selection-content\">\n        <div class=\"selected-table-info\">\n          <div class=\"table-icon-wrapper\">\n            <div\n              class=\"table-icon\"\n              :class=\"{\n                'vip-icon': selectedTable.type.includes('VIP'),\n                'large-icon': selectedTable.type.includes('Large'),\n                'standard-icon': selectedTable.type.includes('Standard'),\n              }\"\n            >\n              <el-icon v-if=\"selectedTable.type.includes('VIP')\"\n                ><TrophyBase\n              /></el-icon>\n              <el-icon v-else-if=\"selectedTable.type.includes('Large')\"\n                ><SetUp\n              /></el-icon>\n              <el-icon v-else><Menu /></el-icon>\n            </div>\n          </div>\n          <div class=\"table-details\">\n            <h3>{{ selectedTable.type }}</h3>\n            <p>\n              <el-icon><User /></el-icon> {{ selectedTable.capacity }} person table\n            </p>\n            <div class=\"table-tags\">\n              <span\n                v-if=\"selectedTable.type.includes('VIP')\"\n                class=\"tag vip-tag\"\n                >Premium Booking</span\n              >\n              <span\n                v-if=\"selectedTable.type.includes('VIP')\"\n                class=\"tag vip-tag\"\n                >Privacy</span\n              >\n              <span\n                v-if=\"selectedTable.type.includes('Large')\"\n                class=\"tag large-tag\"\n                >Group Dining</span\n              >\n              <span\n                v-if=\"selectedTable.type.includes('Standard')\"\n                class=\"tag standard-tag\"\n                >Comfortable Environment</span\n              >\n              <span\n                v-if=\"\n                  !selectedTable.type.includes('VIP') &&\n                  !selectedTable.type.includes('Large') &&\n                  !selectedTable.type.includes('Standard')\n                \"\n                class=\"tag standard-tag\"\n                >Regular Seating</span\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class=\"selection-container\">\n          <div class=\"date-selection\">\n            <h4>\n              <el-icon><Calendar /></el-icon> Select Date\n            </h4>\n            <el-date-picker\n              v-model=\"selectedDate\"\n              type=\"date\"\n              placeholder=\"Select date\"\n              format=\"YYYY-MM-DD\"\n              :disabled-date=\"disabledDate\"\n              :default-value=\"selectedDate\"\n              @change=\"handleDateChange\"\n            />\n            <p class=\"note\">\n              <el-icon><InfoFilled /></el-icon> Reservations can only be made for tomorrow and later\n            </p>\n          </div>\n\n          <div class=\"time-slots\" v-loading=\"loadingTimeSlots\">\n            <h4>\n              <el-icon><Timer /></el-icon> Select Time\n              <span v-if=\"selectedTimeRange\" class=\"selected-time-range\">\n                <el-icon><Check /></el-icon> {{ selectedTimeRange }}\n              </span>\n            </h4>\n            <p class=\"time-hint\">\n              <el-icon><Clock /></el-icon> Business Hours:\n              {{ formatBusinessHours(restaurant.businessHours) }}\n            </p>\n            <p class=\"day-type-hint\">\n              <el-icon><Calendar /></el-icon> Current Selection:\n              {{ formatSelectedDay(selectedDate) }}\n            </p>\n            <p class=\"selection-hint\">\n              <el-icon><Warning /></el-icon> Tip: You can select multiple consecutive time slots\n            </p>\n\n            <div class=\"time-grid\">\n              <el-button\n                v-for=\"time in availableTimeSlots\"\n                :key=\"time.value\"\n                :disabled=\"time.disabled\"\n                :class=\"{\n                  selected: selectedTimeSlots.some(\n                    (slot) => slot.value === time.value\n                  ),\n                }\"\n                @click=\"handleTimeSelection(time)\"\n                size=\"large\"\n              >\n                {{ time.label }}\n              </el-button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"reservation-details\">\n          <h4>\n            <el-icon><Memo /></el-icon> Reservation Details\n          </h4>\n\n          <div class=\"details-grid\">\n            <div class=\"detail-item\">\n              <label for=\"person-count\">Number of Diners</label>\n              <el-input-number\n                id=\"person-count\"\n                v-model=\"personCount\"\n                :min=\"1\"\n                :max=\"selectedTable.capacity || 20\"\n                size=\"large\"\n                :step=\"1\"\n                step-strictly\n              />\n              <span class=\"capacity-info\"\n                >Maximum capacity: {{ selectedTable.capacity }} people</span\n              >\n            </div>\n\n            <div class=\"detail-item remarks-item\">\n              <label for=\"remarks\">Notes</label>\n              <el-input\n                id=\"remarks\"\n                v-model=\"reservationRemarks\"\n                type=\"textarea\"\n                placeholder=\"Please enter special requests, such as: window seats, child chairs, etc.\"\n                :rows=\"3\"\n                maxlength=\"200\"\n                show-word-limit\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <template #footer>\n        <div class=\"dialog-footer\">\n          <div class=\"reservation-summary\" v-if=\"selectedTimeSlots.length > 0\">\n            <div class=\"summary-item\">\n              <span class=\"label\">Reservation Date:</span>\n              <span class=\"value\">{{ selectedDate.toLocaleDateString() }}</span>\n            </div>\n            <div class=\"summary-item\">\n              <span class=\"label\">Reservation Time:</span>\n              <span class=\"value\">{{ selectedTimeRange }}</span>\n            </div>\n            <div class=\"summary-item\">\n              <span class=\"label\">Number of Diners:</span>\n              <span class=\"value\">{{ personCount }} people</span>\n            </div>\n          </div>\n\n          <div class=\"action-buttons\">\n            <el-button @click=\"timeSelectionVisible = false\" class=\"cancel-btn\"\n              >Cancel</el-button\n            >\n            <el-button\n              type=\"primary\"\n              :disabled=\"selectedTimeSlots.length === 0\"\n              @click=\"confirmReservation\"\n              class=\"confirm-btn\"\n            >\n              Confirm Reservation\n            </el-button>\n          </div>\n        </div>\n      </template>\n    </el-dialog>\n\n    <!-- Restaurant Map Location -->\n    <div class=\"map-section\">\n      <h2>Location</h2>\n      <div class=\"map-container\">\n        <div class=\"google-map-container\">\n          <iframe\n            v-if=\"restaurant.latitude && restaurant.longitude\"\n            :src=\"`https://www.google.com/maps/embed/v1/place?key=YOUR_GOOGLE_MAPS_API_KEY&q=${restaurant.latitude},${restaurant.longitude}&zoom=15`\"\n            width=\"100%\"\n            height=\"300\"\n            style=\"border: 0\"\n            allowfullscreen=\"\"\n            loading=\"lazy\"\n            referrerpolicy=\"no-referrer-when-downgrade\"\n          >\n          </iframe>\n          <div v-else class=\"map-placeholder\">\n            <el-icon><MapLocation /></el-icon>\n            <p>Loading map...</p>\n          </div>\n        </div>\n        <div class=\"address-detail\">\n          <p>\n            <el-icon><Location /></el-icon> {{ restaurant.address }}\n          </p>\n          <el-button type=\"primary\" plain @click=\"openGoogleMapsNavigation\">\n            Navigate to here\n          </el-button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Restaurant Reviews -->\n    <div class=\"reviews-section\">\n      <div class=\"section-header\">\n        <h2>Customer Reviews </h2>\n      </div>\n\n      <div class=\"rating-filter\">\n        <span class=\"filter-label\">Filter by Rating:</span>\n        <div class=\"rating-buttons\">\n          <el-button\n            v-for=\"rating in 5\"\n            :key=\"rating\"\n            size=\"small\"\n            :type=\"reviewsRating === rating ? 'primary' : 'default'\"\n            :class=\"{ 'active-rating': reviewsRating === rating }\"\n            @click=\"filterReviewsByRating(rating)\"\n          >\n            {{ rating }} <el-icon><Star /></el-icon>\n          </el-button>\n          <el-button\n            size=\"small\"\n            :type=\"reviewsRating === null ? 'primary' : 'default'\"\n            :class=\"{ 'active-rating': reviewsRating === null }\"\n            @click=\"filterReviewsByRating(null)\"\n          >\n            All\n          </el-button>\n        </div>\n      </div>\n\n      <div class=\"reviews-container\" v-loading=\"reviewsLoading\">\n        <div v-if=\"reviewsList.length > 0\" class=\"reviews-list\">\n          <div\n            v-for=\"review in reviewsList\"\n            :key=\"review.id\"\n            class=\"review-item\"\n          >\n            <div class=\"review-header\">\n              <div class=\"user-info\">\n                <el-avatar :src=\"review.userAvatar\" :size=\"48\">\n                  {{ review.userName ? review.userName.charAt(0) : \"User\" }}\n                </el-avatar>\n                <div class=\"user-details\">\n                  <div class=\"user-name\">\n                    {{ review.userName || \"Anonymous User\" }}\n                  </div>\n                  <div class=\"review-time\">\n                    {{ formatReviewTime(review.createdAt) }}\n                  </div>\n                </div>\n              </div>\n              <div class=\"review-rating\">\n                <span class=\"rating-value\">{{ review.rating }}</span>\n                <el-rate\n                  v-model=\"review.rating\"\n                  disabled\n                  text-color=\"#ffcc00\"\n                />\n              </div>\n            </div>\n\n            <div class=\"review-content\">\n              <p>{{ review.content }}</p>\n\n              <div\n                v-if=\"\n                  (review.photos && review.photos.length) ||\n                  (review.videos && review.videos.length)\n                \"\n                class=\"review-media\"\n              >\n                <el-image\n                  v-for=\"(photo, index) in review.photos\"\n                  :key=\"`photo-${index}`\"\n                  :src=\"photo\"\n                  :preview-src-list=\"review.photos\"\n                  :initial-index=\"index\"\n                  fit=\"cover\"\n                  class=\"review-media-item\"\n                  :preview-teleported=\"true\"\n                >\n                  <template #error>\n                    <div class=\"image-error\">\n                      <el-icon><Picture /></el-icon>\n                      <span>Failed to load</span>\n                    </div>\n                  </template>\n                </el-image>\n\n                <div\n                  v-for=\"(video, index) in review.videos\"\n                  :key=\"`video-${index}`\"\n                  class=\"review-media-item video-container\"\n                  @click.stop=\"playVideo($event)\"\n                >\n                  <video\n                    :src=\"video\"\n                    controls\n                    class=\"review-video\"\n                    preload=\"metadata\"\n                    @click.stop\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div v-if=\"reviewsList.length < reviewsTotal\" class=\"load-more\">\n            <el-button\n              type=\"primary\"\n              plain\n              @click=\"loadMoreReviews\"\n              :loading=\"reviewsLoading\"\n            >\n              Load More\n            </el-button>\n          </div>\n        </div>\n\n        <div v-else-if=\"!reviewsLoading\" class=\"no-reviews\">\n          <el-empty description=\"No reviews yet, be the first to write a review!\"></el-empty>\n        </div>\n      </div>\n    </div>\n\n    <AppFooter />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed, watch } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nimport {\n  ArrowLeft,\n  Star,\n  Share,\n  Location,\n  Phone,\n  Clock,\n  Calendar,\n  DeskLamp,\n  User,\n  TrophyBase,\n  MapLocation,\n  Picture,\n  Food,\n  Timer,\n  SetUp,\n  InfoFilled,\n  Check,\n  Warning,\n  Memo,\n  Menu,\n  VideoPlay,\n  Filter,\n  DishDot,\n} from \"@element-plus/icons-vue\";\nimport request from \"@/utils/request\";\nimport AppFooter from \"@/components/AppFooter.vue\";\n\nconst router = useRouter();\nconst route = useRoute();\nconst restaurantId = route.params.id;\n\n// Restaurant data\nconst restaurant = ref({\n  photos: [],\n  tables: [],\n});\nconst loading = ref(true);\n\n// Review related data\nconst reviewsLoading = ref(false);\nconst reviewsList = ref([]);\nconst reviewsTotal = ref(0);\nconst reviewsPage = ref(1);\nconst reviewsPageSize = ref(5);\nconst reviewsRating = ref(null);\n\n// Get user info\nconst userInfo = ref(JSON.parse(localStorage.getItem(\"userInfo\") || \"{}\"));\nconst isUserLoggedIn = computed(() => {\n  return !!userInfo.value && !!userInfo.value.token;\n});\n\n// Get restaurant details\nconst fetchRestaurantDetail = async () => {\n  loading.value = true;\n  try {\n    const headers = {};\n    if (isUserLoggedIn.value) {\n      headers.Authorization = `Bearer ${userInfo.value.token}`;\n    }\n\n    const res = await request({\n      url: `/restaurants/${restaurantId}`,\n      method: \"GET\",\n      headers,\n    });\n\n    restaurant.value = res.data;\n\n    // Ensure photos is an array\n    if (!restaurant.value.photos) {\n      restaurant.value.photos = [];\n    }\n\n    // Ensure tables is an array\n    if (!restaurant.value.tables) {\n      restaurant.value.tables = [];\n    }\n\n    // Ensure latitude and longitude are numeric\n    if (restaurant.value.latitude && restaurant.value.longitude) {\n      restaurant.value.latitude = parseFloat(restaurant.value.latitude);\n      restaurant.value.longitude = parseFloat(restaurant.value.longitude);\n    }\n  } catch (error) {\n    console.error(\"Failed to get restaurant details\", error);\n    ElMessage.error(\"Failed to get restaurant information, please try again later\");\n  } finally {\n    loading.value = false;\n  }\n};\n\n// Go back to previous page\nconst goBack = () => {\n  router.push(\"/\");\n};\n\n// Toggle favorite\nconst toggleFavorite = async () => {\n  if (!isUserLoggedIn.value) {\n    ElMessage.warning(\"Please login first to favorite a restaurant\");\n    router.push(\"/login\");\n    return;\n  }\n\n  try {\n    if (restaurant.value.isFavorite) {\n      // Remove from favorites\n      await request({\n        url: `/favorites/${restaurantId}`,\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${userInfo.value.token}`,\n        },\n      });\n\n      ElMessage.success(\"Removed from favorites\");\n      restaurant.value.isFavorite = false;\n    } else {\n      // Add to favorites\n      await request({\n        url: \"/favorites\",\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${userInfo.value.token}`,\n        },\n        data: {\n          restaurantId: parseInt(restaurantId),\n        },\n      });\n\n      ElMessage.success(\"Added to favorites\");\n      restaurant.value.isFavorite = true;\n    }\n  } catch (error) {\n    ElMessage.error(error.response?.data?.message || \"Operation failed, please try again later\");\n    console.error(\"Favorite operation failed\", error);\n  }\n};\n\n// Filter by rating\nconst filterReviewsByRating = (rating) => {\n  // If clicking on the currently selected rating, set to null (all)\n  // Otherwise set to the selected rating\n  const newRating = rating === reviewsRating.value ? null : rating;\n\n  // If rating hasn't changed, don't do anything\n  if (newRating === reviewsRating.value) return;\n\n  // 获取评论容器并保存当前高度\n  const reviewsContainer = document.querySelector(\".reviews-container\");\n  if (reviewsContainer) {\n    const currentHeight = reviewsContainer.offsetHeight;\n    reviewsContainer.style.minHeight = `${currentHeight}px`;\n  }\n\n  // Set loading to true first, but don't clear the current list\n  reviewsLoading.value = true;\n\n  // Then update the filter rating\n  reviewsRating.value = newRating;\n\n  // Delay a bit before fetching data to allow UI to show loading state\n  setTimeout(() => {\n    // Reset page number and get new data\n    reviewsPage.value = 1;\n    fetchReviews(false, true); // Pass the second parameter to indicate this is a filter operation\n  }, 100);\n};\n\n// Get restaurant reviews\nconst fetchReviews = async (loadMore = false, isFilter = false) => {\n  // If loading more, increment the page number\n  if (loadMore) {\n    reviewsPage.value++;\n  } else if (!isFilter) {\n    // Only reset page number and set loading state in non-filter situations\n    // In filter situations, page number has already been reset in filterReviewsByRating, and loading state has been set\n    reviewsPage.value = 1;\n    reviewsLoading.value = true;\n  }\n\n  try {\n    const res = await request({\n      url: `/restaurants/${restaurantId}/reviews`,\n      method: \"GET\",\n      params: {\n        page: reviewsPage.value,\n        pageSize: reviewsPageSize.value,\n        rating: reviewsRating.value || undefined,\n      },\n    });\n\n    // If loading more, add new data to the end of the existing list\n    if (loadMore) {\n      reviewsList.value = [...reviewsList.value, ...res.data.list];\n    } else {\n      // Otherwise, replace the existing list with new data\n      // To avoid flickering, use a short delay\n      const newReviews = res.data.list || [];\n\n      if (isFilter) {\n        // 平滑过渡：先降低当前评论的透明度，但保持高度\n        const reviewsContainer = document.querySelector(\".reviews-list\");\n        if (reviewsContainer) {\n          reviewsContainer.style.opacity = \"0.3\";\n          reviewsContainer.style.transition = \"opacity 0.3s ease\";\n          // 保持原有的高度\n          const currentHeight = reviewsContainer.offsetHeight;\n          reviewsContainer.style.minHeight = `${currentHeight}px`;\n\n          // 短暂延迟后替换数据，给过渡效果时间\n          setTimeout(() => {\n            reviewsList.value = newReviews;\n            // 在下一个渲染周期恢复透明度\n            setTimeout(() => {\n              if (reviewsContainer) {\n                reviewsContainer.style.opacity = \"1\";\n                // 如果新内容足够高，30秒后可以移除最小高度限制\n                setTimeout(() => {\n                  reviewsContainer.style.minHeight = '';\n                }, 30000);\n              }\n              reviewsLoading.value = false;\n            }, 50);\n          }, 300);\n        } else {\n          reviewsList.value = newReviews;\n          reviewsLoading.value = false;\n        }\n      } else {\n        reviewsList.value = newReviews;\n        reviewsLoading.value = false;\n      }\n    }\n\n    reviewsTotal.value = res.data.total || 0;\n  } catch (error) {\n    console.error(\"Failed to fetch reviews\", error);\n    ElMessage.error(\"Failed to load review information, please try again later\");\n    reviewsLoading.value = false;\n  }\n};\n\n// Load more reviews\nconst loadMoreReviews = () => {\n  if (reviewsList.value.length < reviewsTotal.value) {\n    fetchReviews(true);\n  }\n};\n\n// Format review time\nconst formatReviewTime = (dateString) => {\n  const date = new Date(dateString);\n  return date.toLocaleDateString(\"zh-CN\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  });\n};\n\n// Format business hours\nconst formatBusinessHours = (hours) => {\n  if (!hours) return \"No business hours information\";\n\n  const time = [];\n  hours.split(\"|\").map((item, index) => {\n    time[index] = item;\n  });\n  return time.join(\" / \");\n};\n\n// Format selected date and type\nconst formatSelectedDay = (date) => {\n  if (!date) return \"\";\n\n  const dayOfWeek = date.getDay(); // 0 is Sunday, 6 is Saturday\n  const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;\n  const dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n  const formattedDate = `${date.getFullYear()}年${\n    date.getMonth() + 1\n  }月${date.getDate()}日`;\n\n  return `${formattedDate} ${dayNames[dayOfWeek]}（${\n    isWeekend ? \"Weekend\" : \"Weekday\"\n  }）`;\n};\n\n// Get status code\nconst getStatusCode = (status) => {\n  const statusMap = {\n    待审核: \"pending\",\n    审核通过: \"approved\",\n    已关闭: \"closed\",\n    运营中: \"operating\",\n    运营: \"operating\",\n  };\n\n  return statusMap[status] || \"unknown\";\n};\n\n// Open Google Maps navigation\nconst openGoogleMapsNavigation = () => {\n  if (restaurant.value.latitude && restaurant.value.longitude) {\n    const url = `https://www.google.com/maps/dir/?api=1&destination=${restaurant.value.latitude},${restaurant.value.longitude}`;\n    window.open(url, \"_blank\");\n  } else {\n    ElMessage.warning(\"Unable to retrieve restaurant location information\");\n  }\n};\n\n// Reservation-related state\nconst timeSelectionVisible = ref(false);\nconst selectedTable = ref(null);\nconst selectedDate = ref(new Date());\nconst selectedTimeSlots = ref([]);\nconst availableTimeSlots = ref([]);\nconst loadingTimeSlots = ref(false);\nconst bookedTimeSlots = ref([]);\nconst personCount = ref(1);\nconst reservationRemarks = ref(\"\");\n\n// Select table\nconst selectTable = (table) => {\n  if (!isUserLoggedIn.value) {\n    ElMessage.warning(\"Please log in before reserving a table\");\n    router.push(\"/login\");\n    return;\n  }\n\n  selectedTable.value = table;\n  // Default to tomorrow instead of today\n  const tomorrow = new Date();\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  selectedDate.value = tomorrow;\n  selectedTimeSlots.value = [];\n  personCount.value = Math.min(table.capacity || 4, 4); // Default to 4 or smaller value of table capacity\n  reservationRemarks.value = \"\";\n  timeSelectionVisible.value = true;\n\n  // Load reservation details for this table\n  fetchTableReservations();\n};\n\n// Disable dates before today\nconst disabledDate = (time) => {\n  // Get the time at midnight of tomorrow (excluding hours, minutes, seconds)\n  const tomorrow = new Date();\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  tomorrow.setHours(0, 0, 0, 0);\n\n  // Disable all dates before tomorrow (including today)\n  return time.getTime() < tomorrow.getTime();\n};\n\n// Handle date change\nconst handleDateChange = () => {\n  selectedTimeSlots.value = []; // Clear selected times\n  generateTimeSlots(); // Regenerate times for today\n  fetchTableReservations(); // Get reservations for today\n};\n\n// Generate time slots\nconst generateTimeSlots = () => {\n  availableTimeSlots.value = [];\n\n  // Default business hours are 11:00-22:00, if restaurant has business hours, parse them\n  let startHour = 11;\n  let endHour = 22;\n\n  if (restaurant.value.businessHours) {\n    // Parse business hours string, format is \"Monday-Friday 11:00-22:00|Weekend 10:00-23:00\"\n    const businessHoursParts = restaurant.value.businessHours.split(\"|\");\n\n    // Check if the selected date is a weekend\n    const selectedDay = selectedDate.value.getDay(); // 0 is Sunday, 6 is Saturday\n    const isWeekend = selectedDay === 0 || selectedDay === 6;\n\n    // Depending on whether it's a weekend, choose the corresponding business hours\n    let todayHours;\n    if (isWeekend) {\n      // Find a time period that includes \"weekend\", \"Saturday\", or \"Sunday\"\n      todayHours = businessHoursParts.find(\n        (hours) =>\n          hours.includes(\"weekend\") ||\n          hours.includes(\"Saturday\") ||\n          hours.includes(\"Sunday\") ||\n          hours.includes(\"Saturday-Sunday\")\n      );\n    } else {\n      // Find a time period that includes \"Monday-Friday\" or weekdays\n      todayHours = businessHoursParts.find(\n        (hours) =>\n          hours.includes(\"Monday-Friday\") ||\n          hours.includes(\"weekdays\") ||\n          (hours.includes(\"week\") &&\n            !hours.includes(\"weekend\") &&\n            !hours.includes(\"Saturday\") &&\n            !hours.includes(\"Sunday\"))\n      );\n    }\n\n    // If no matching time period is found, use the first time period as default\n    if (!todayHours && businessHoursParts.length > 0) {\n      todayHours = businessHoursParts[0];\n    }\n\n    if (todayHours) {\n      // Extract time part, e.g., \"11:00-22:00\"\n      const timeMatch = todayHours.match(/(\\d{1,2}):(\\d{2})-(\\d{1,2}):(\\d{2})/);\n      if (timeMatch) {\n        startHour = parseInt(timeMatch[1]);\n        endHour = parseInt(timeMatch[3]);\n\n        console.log(\n          `Current selected date type: ${\n            isWeekend ? \"weekend\" : \"weekday\"\n          }, business hours: ${startHour}:00-${endHour}:00`\n        );\n      }\n    }\n  }\n\n  // Generate time slots, one per hour\n  for (let hour = startHour; hour < endHour; hour++) {\n    const timeValue = `${hour.toString().padStart(2, \"0\")}:00`;\n    availableTimeSlots.value.push({\n      label: `${hour}:00-${hour + 1}:00`,\n      value: timeValue,\n      hour: hour,\n      disabled: false, // Initially all are available, will be disabled later in fetchTableReservations\n    });\n  }\n};\n\n// Get table reservation details\nconst fetchTableReservations = async () => {\n  if (!selectedTable.value || !selectedDate.value) return;\n\n  loadingTimeSlots.value = true;\n\n  try {\n    // Get selected date in string format, format is YYYY-MM-DD\n    const selectedDateString = selectedDate.value.toISOString().split(\"T\")[0];\n\n    const response = await request({\n      url: `/reservations/table/${selectedTable.value.id}/future`,\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${userInfo.value.token}`,\n      },\n      params: {\n        date: selectedDateString,\n      },\n    });\n\n    // Update reserved time slots\n    bookedTimeSlots.value = response.data || [];\n\n    // Initialize all time slots as available\n    availableTimeSlots.value.forEach((slot) => {\n      slot.disabled = false;\n    });\n\n    // Loop through all reserved time periods and disable corresponding time slots\n    bookedTimeSlots.value.forEach((booking) => {\n      if (!booking.reservationTime) return;\n\n      // Parse reservation time and date\n      const bookingDate = new Date(booking.reservationTime);\n      const bookingDateString = bookingDate.toISOString().split(\"T\")[0];\n\n      // Only handle reservations for the current day\n      if (bookingDateString === selectedDateString) {\n        const reservationHour = bookingDate.getUTCHours();\n        const duration = booking.reservationDate || 1; // Use reservation duration, default is 1 hour\n\n        // Disable all time slots occupied by the current reservation\n        availableTimeSlots.value.forEach((slot) => {\n          if (\n            slot.hour >= reservationHour &&\n            slot.hour < reservationHour + duration\n          ) {\n            slot.disabled = true;\n          }\n        });\n      }\n    });\n  } catch (error) {\n    console.error(\"Failed to fetch reservation information\", error);\n    ElMessage.error(\"Failed to load reservation information, please try again later\");\n  } finally {\n    loadingTimeSlots.value = false;\n  }\n};\n\n// Handle time selection\nconst handleTimeSelection = (timeSlot) => {\n  const index = selectedTimeSlots.value.findIndex(\n    (slot) => slot.value === timeSlot.value\n  );\n\n  if (index > -1) {\n    // If already selected, remove selection\n    selectedTimeSlots.value.splice(index, 1);\n  } else {\n    // If not selected, add to selection list\n    selectedTimeSlots.value.push(timeSlot);\n  }\n\n  // Sort selected time slots\n  selectedTimeSlots.value.sort((a, b) => a.hour - b.hour);\n\n  // Check if they are consecutive\n  validateTimeSelection();\n};\n\n// Validate time selection\nconst validateTimeSelection = () => {\n  if (selectedTimeSlots.value.length <= 1) {\n    return true;\n  }\n\n  // Copy and sort by hour\n  const sortedSlots = [...selectedTimeSlots.value].sort(\n    (a, b) => a.hour - b.hour\n  );\n\n  // Check if times are consecutive\n  for (let i = 1; i < sortedSlots.length; i++) {\n    if (sortedSlots[i].hour !== sortedSlots[i - 1].hour + 1) {\n      ElMessage.warning(\"Please select consecutive time slots\");\n      // Remove the last added time slot that is not consecutive\n      selectedTimeSlots.value = selectedTimeSlots.value.filter(\n        (slot) => slot.value !== sortedSlots[i].value\n      );\n      return false;\n    }\n  }\n\n  return true;\n};\n\n// Get selected time range display\nconst selectedTimeRange = computed(() => {\n  if (!selectedTimeSlots.value.length) return \"\";\n\n  // Sort by hour\n  const sortedSlots = [...selectedTimeSlots.value].sort(\n    (a, b) => a.hour - b.hour\n  );\n\n  if (sortedSlots.length === 1) {\n    return sortedSlots[0].label;\n  }\n\n  const startHour = sortedSlots[0].hour;\n  const endHour = sortedSlots[sortedSlots.length - 1].hour + 1;\n\n  return `${startHour}:00-${endHour}:00`;\n});\n\n// Confirm reservation\nconst confirmReservation = async () => {\n  if (\n    !selectedTable.value ||\n    !selectedDate.value ||\n    selectedTimeSlots.value.length === 0\n  ) {\n    ElMessage.warning(\"Please select a reservation time\");\n    return;\n  }\n\n  if (\n    personCount.value <= 0 ||\n    personCount.value > selectedTable.value.capacity\n  ) {\n    ElMessage.warning(`Number of diners must be between 1 and ${selectedTable.value.capacity}`);\n    return;\n  }\n\n  try {\n    const dateStr = selectedDate.value.toISOString().split(\"T\")[0];\n\n    // Sort selected time slots by hour\n    const sortedSlots = [...selectedTimeSlots.value].sort(\n      (a, b) => a.hour - b.hour\n    );\n    const startTime = sortedSlots[0].value;\n\n    // Calculate reservation duration (in hours)\n    const reservationDuration = sortedSlots.length;\n\n    // Assemble ISO format time string \"2023-04-20T18:30:00Z\"\n    const reservationTime = `${dateStr}T${startTime}:00Z`;\n\n    await request({\n      url: \"/reservations\",\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${userInfo.value.token}`,\n      },\n      data: {\n        restaurantId: parseInt(restaurantId),\n        tableId: parseInt(selectedTable.value.id),\n        reservationTime: reservationTime,\n        reservationDate: reservationDuration, // Use reservationDate as a duration attribute\n        personCount: personCount.value,\n        remarks: reservationRemarks.value,\n      },\n    });\n\n    ElMessage.success(\"Reservation successful\");\n    timeSelectionVisible.value = false;\n\n    // Clear selection\n    selectedTimeSlots.value = [];\n    personCount.value = 1;\n    reservationRemarks.value = \"\";\n\n    // After successful reservation, you can redirect to my reservations page or stay on the current page\n    // router.push('/my-reservations');\n  } catch (error) {\n    ElMessage.error(error.response?.data?.message || \"Failed to make reservation, please try again later\");\n    console.error(\"Failed to make reservation\", error);\n  }\n};\n\n// Listen for date change to generate time slots\nwatch(selectedDate, () => {\n  // Clear previous selection\n  selectedTimeSlots.value = [];\n  generateTimeSlots();\n});\n\n// Generate default time slots when mounted\nonMounted(() => {\n  fetchRestaurantDetail();\n  generateTimeSlots();\n  fetchReviews();\n});\n\n// Video control methods\nconst playVideo = (event) => {\n  event.preventDefault();\n  const videoContainer = event.currentTarget;\n  const video = videoContainer.querySelector(\"video\");\n\n  if (video) {\n    // Handle video play/pause logic\n    if (video.paused) {\n      // If video is paused, play video\n      videoContainer.classList.add(\"playing\");\n      video.play().catch((error) => {\n        console.error(\"Failed to play video:\", error);\n        videoContainer.classList.remove(\"playing\");\n      });\n\n      // Add event listener for video end\n      video.onended = () => {\n        videoContainer.classList.remove(\"playing\");\n      };\n    } else {\n      // If video is playing, pause video\n      video.pause();\n      videoContainer.classList.remove(\"playing\");\n    }\n  }\n};\n\n// Update tableTypes computed property to handle English table types\nconst tableTypes = computed(() => {\n  const types = {};\n  \n  // Group tables by type and count\n  if (restaurant.value?.tables && restaurant.value.tables.length > 0) {\n    // First find all available table types\n    const availableTypes = new Set();\n    restaurant.value.tables.forEach(table => {\n      availableTypes.add(table.type);\n    });\n    \n    // Then count by type\n    restaurant.value.tables.forEach(table => {\n      // Get table type\n      let typeName, typeColor, typeIcon;\n      \n      if (table.type.includes('VIP')) {\n        typeName = 'VIP Table';\n        typeColor = '#ff9800';\n        typeIcon = 'TrophyBase';\n      } else if (table.type === 'Standard' || table.type === 'Standard Table') {\n        typeName = 'Standard Table';\n        typeColor = '#26a69a';\n        typeIcon = 'Menu';\n      } else {\n        // For other unrecognized types, use the type name\n        typeName = table.type || 'Regular Table';\n        typeColor = '#5e6687';\n        typeIcon = 'Menu';\n      }\n      \n      if (!types[typeName]) {\n        types[typeName] = {\n          name: typeName,\n          count: 1,\n          color: typeColor,\n          icon: typeIcon,\n          cssVar: typeColor // Store CSS variable\n        };\n      } else {\n        types[typeName].count++;\n      }\n    });\n  }\n  \n  // Convert to array\n  return Object.values(types);\n});\n\nconst tableListVisible = ref(false);\nconst selectedTableType = ref('');\n\n// Filtered table list\nconst filteredTables = computed(() => {\n  if (!selectedTableType.value || !restaurant.value?.tables) return [];\n  \n  // Filter tables by selected type\n  return restaurant.value.tables.filter(table => {\n    if (selectedTableType.value === 'VIP Table' && table.type.includes('VIP')) {\n      return true;\n    } else if (selectedTableType.value === 'Standard Table' && \n              (table.type === 'Standard' || table.type === 'Standard Table')) {\n      return true;\n    } else if (selectedTableType.value === table.type) {\n      // Direct match for type name\n      return true;\n    }\n    return false;\n  });\n});\n\n// Show tables by type\nconst showTablesByType = (typeName) => {\n  selectedTableType.value = typeName;\n  tableListVisible.value = true;\n};\n\n// Table capacity filter\nconst capacityFilter = ref('all');\n\n// Filter tables by capacity\nconst filteredTablesByCapacity = computed(() => {\n  if (capacityFilter.value === 'all') {\n    return filteredTables.value;\n  }\n  \n  return filteredTables.value.filter(table => {\n    const capacity = table.capacity || 0;\n    \n    if (capacityFilter.value === '1-2') {\n      return capacity >= 1 && capacity <= 2;\n    } else if (capacityFilter.value === '3-4') {\n      return capacity >= 3 && capacity <= 4;\n    } else if (capacityFilter.value === '5-8') {\n      return capacity >= 5 && capacity <= 8;\n    } else if (capacityFilter.value === '9+') {\n      return capacity >= 9;\n    }\n    \n    return true;\n  });\n});\n</script>\n\n<style lang=\"scss\" scoped>\n// Variable definitions\n$primary-color: #e02020;\n$secondary-color: #fff0f0;\n$text-primary: #333;\n$text-secondary: #666;\n$text-light: #999;\n$border-radius: 8px;\n$box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n$gradient-primary: linear-gradient(135deg, $primary-color, #ff6b6b);\n\n.restaurant-detail-container {\n  position: relative;\n  background-color: #f8f9fa;\n  min-height: 100vh;\n}\n\n// Top Navigation Bar\n.detail-header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 10;\n  padding: 20px;\n\n  .header-actions {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .back-button,\n    .favorite-button,\n    .share-button {\n      width: 44px;\n      height: 44px;\n      background-color: rgba(255, 255, 255, 0.8);\n      backdrop-filter: blur(10px);\n      border: none;\n      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n      color: $text-primary;\n      transition: all 0.3s;\n\n      &:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n      }\n\n      &.is-favorite {\n        background-color: $primary-color;\n        color: white;\n      }\n    }\n\n    .actions-right {\n      display: flex;\n      gap: 10px;\n    }\n  }\n}\n\n// Restaurant Photo Gallery\n.restaurant-gallery {\n  position: relative;\n  height: 450px;\n  overflow: hidden;\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.3);\n    z-index: 1;\n  }\n\n  .el-carousel {\n    height: 100%;\n    --el-carousel-indicator-width: 30px;\n    --el-carousel-indicator-height: 3px;\n\n    :deep(.el-carousel__container) {\n      height: 100%;\n    }\n\n    :deep(.el-carousel__indicator--active) {\n      .el-carousel__button {\n        background-color: #fff;\n      }\n    }\n\n    :deep(.el-carousel__arrow) {\n      background-color: rgba(255, 255, 255, 0.8);\n      backdrop-filter: blur(10px);\n      color: $text-primary;\n      border-radius: 50%;\n      width: 50px;\n      height: 50px;\n\n      &:hover {\n        background-color: white;\n      }\n    }\n\n    :deep(.el-carousel__indicators--outside) {\n      bottom: 20px;\n      z-index: 10;\n    }\n  }\n\n  .gallery-item {\n    width: 100%;\n    height: 100%;\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    transition: transform 0.8s ease;\n\n    &:hover {\n      transform: scale(1.05);\n    }\n  }\n\n  .restaurant-title-overlay {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    padding: 40px 30px 50px;\n    background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);\n    color: #fff;\n    z-index: 5;\n\n    h1 {\n      font-size: 42px;\n      font-weight: 800;\n      margin: 0 0 10px;\n      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n      animation: fadeInUp 0.5s ease-out forwards;\n    }\n\n    .quick-info {\n      display: flex;\n      align-items: center;\n      gap: 15px;\n      animation: fadeInUp 0.5s 0.1s ease-out forwards;\n      opacity: 0;\n\n      .info-item {\n        display: flex;\n        align-items: center;\n        gap: 5px;\n\n        .el-icon {\n          font-size: 16px;\n        }\n\n        &.cuisine {\n          background-color: rgba(255, 255, 255, 0.2);\n          padding: 4px 12px;\n          border-radius: 20px;\n          backdrop-filter: blur(5px);\n        }\n      }\n\n      .rating-display {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        background-color: rgba(255, 255, 255, 0.2);\n        padding: 4px 12px;\n        border-radius: 20px;\n        backdrop-filter: blur(5px);\n\n        .rating-value {\n          font-weight: 700;\n          color: #ffcc00;\n          font-size: 18px;\n        }\n\n        .review-count {\n          font-size: 14px;\n          opacity: 0.8;\n        }\n      }\n    }\n  }\n\n  .no-photos {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background-color: #eee;\n    color: $text-light;\n\n    .el-icon {\n      font-size: 48px;\n      margin-bottom: 10px;\n    }\n  }\n}\n\n// Restaurant Basic Information Card\n.restaurant-info-card {\n  background-color: white;\n  border-radius: $border-radius;\n  margin: 30px 20px 20px;\n  padding: 30px;\n  position: relative;\n  z-index: 5;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    top: -15px;\n    left: 40px;\n    width: 80px;\n    height: 5px;\n    background: $gradient-primary;\n    border-radius: 5px;\n  }\n\n  .info-section {\n    margin-bottom: 30px;\n\n    .info-row {\n      display: flex;\n      gap: 15px;\n      margin-bottom: 20px;\n      color: $text-secondary;\n      padding: 10px 15px;\n      background-color: #f9f9fa;\n      border-radius: 10px;\n      transition: all 0.3s;\n\n      &:hover {\n        background-color: $secondary-color;\n        transform: translateX(5px);\n      }\n\n      .el-icon {\n        color: $primary-color;\n        flex-shrink: 0;\n        font-size: 20px;\n      }\n    }\n  }\n\n  .description-section {\n    position: relative;\n\n    h3 {\n      font-size: 22px;\n      margin: 0 0 15px;\n      color: $text-primary;\n      font-weight: 600;\n      display: inline-flex;\n      position: relative;\n\n      &::after {\n        content: \"\";\n        position: absolute;\n        bottom: -5px;\n        left: 0;\n        width: 100%;\n        height: 2px;\n        background: $gradient-primary;\n        border-radius: 2px;\n      }\n    }\n\n    p {\n      color: $text-secondary;\n      line-height: 1.8;\n      margin: 0;\n      font-size: 16px;\n      padding: 0 0 0 15px;\n      border-left: 3px solid $secondary-color;\n    }\n  }\n}\n\n// Table Information Section\n.tables-section {\n  background-color: white;\n  border-radius: $border-radius;\n  margin: 0 20px 30px;\n  padding: 30px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 150px;\n    height: 150px;\n    background: radial-gradient(\n      circle,\n      $secondary-color 0%,\n      rgba(255, 255, 255, 0) 70%\n    );\n    border-radius: 50%;\n    opacity: 0.7;\n  }\n\n  .section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 30px;\n\n    h2 {\n      margin: 0;\n      font-size: 24px;\n      color: $text-primary;\n      font-weight: 700;\n      position: relative;\n      padding-left: 15px;\n\n      &::before {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 5px;\n        height: 100%;\n        background: $gradient-primary;\n        border-radius: 5px;\n      }\n    }\n\n    .reserve-button {\n      background: $gradient-primary;\n      border: none;\n      padding: 12px 25px;\n      border-radius: 30px;\n      font-size: 16px;\n      font-weight: 500;\n\n      &:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 8px 20px rgba($primary-color, 0.3);\n      }\n    }\n  }\n\n  .tables-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n    gap: 25px;\n\n    .table-card {\n      border: none;\n      border-radius: 16px;\n      overflow: visible;\n      position: relative;\n      cursor: pointer;\n      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);\n      transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n      padding: 0;\n\n      &::before {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: radial-gradient(\n          circle at top right,\n          rgba(255, 255, 255, 0.8),\n          transparent 70%\n        );\n        border-radius: 16px;\n        opacity: 0.6;\n        z-index: 0;\n      }\n\n      &:hover {\n        transform: translateY(-12px) scale(1.03);\n        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);\n\n        .table-actions {\n          opacity: 1;\n          transform: translateY(0);\n        }\n\n        .table-header {\n          .table-icon-container {\n            transform: translateY(-5px) scale(1.1);\n          }\n        }\n\n        .table-type-tag {\n          background: $gradient-primary;\n          color: white;\n        }\n      }\n\n      &.vip-table {\n        border: 2px solid #ffc107;\n        background: linear-gradient(145deg, #fffaf0, #fff5e6);\n        box-shadow: 0 10px 25px rgba(255, 153, 0, 0.15);\n\n        &::before {\n          background: radial-gradient(\n            circle at top right,\n            rgba(255, 246, 220, 0.8),\n            transparent 80%\n          );\n        }\n\n        .vip-ribbon {\n          position: absolute;\n          top: 20px;\n          right: -35px;\n          background: linear-gradient(45deg, #ffc107, #ff9800);\n          color: white;\n          font-weight: bold;\n          padding: 5px 40px;\n          transform: rotate(45deg);\n          z-index: 10;\n          font-size: 14px;\n          box-shadow: 0 2px 10px rgba(255, 153, 0, 0.3);\n          letter-spacing: 2px;\n        }\n\n        .table-actions .el-button {\n          background: linear-gradient(45deg, #ffc107, #ff9800);\n          border-color: #ff9800;\n          color: white;\n\n          &:hover {\n            box-shadow: 0 5px 15px rgba(255, 153, 0, 0.3);\n            background: linear-gradient(45deg, #ff9800, #ffc107);\n          }\n        }\n      }\n\n      &.large-table {\n        border: 2px solid #3f51b5;\n        background: linear-gradient(145deg, #f0f3ff, #e6ebff);\n        box-shadow: 0 10px 25px rgba(63, 81, 181, 0.15);\n\n        &::before {\n          background: radial-gradient(\n            circle at top right,\n            rgba(220, 230, 255, 0.8),\n            transparent 80%\n          );\n        }\n\n        .large-ribbon {\n          position: absolute;\n          top: 12px;\n          right: -30px;\n          background: linear-gradient(45deg, #3f51b5, #5c6bc0);\n          color: white;\n          font-weight: bold;\n          padding: 3px 30px;\n          transform: rotate(45deg);\n          z-index: 10;\n          font-size: 13px;\n          box-shadow: 0 2px 10px rgba(63, 81, 181, 0.3);\n        }\n\n        .table-actions .el-button {\n          background: linear-gradient(45deg, #3f51b5, #5c6bc0);\n          border-color: #3f51b5;\n          color: white;\n\n          &:hover {\n            box-shadow: 0 5px 15px rgba(63, 81, 181, 0.3);\n            background: linear-gradient(45deg, #5c6bc0, #3f51b5);\n          }\n        }\n      }\n\n      &.standard-table {\n        border: 2px solid #26c6da;\n        background: linear-gradient(145deg, #f0fafb, #e6f7f9);\n        box-shadow: 0 10px 25px rgba(38, 198, 218, 0.1);\n\n        &::before {\n          background: radial-gradient(\n            circle at top right,\n            rgba(220, 245, 255, 0.8),\n            transparent 80%\n          );\n        }\n      }\n\n      .table-status {\n        position: absolute;\n        top: 15px;\n        left: 15px;\n        z-index: 5;\n\n        .status-badge {\n          padding: 4px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n          box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);\n\n          &.available {\n            background: linear-gradient(45deg, #4caf50, #8bc34a);\n            color: white;\n          }\n\n          &.unavailable {\n            background: linear-gradient(45deg, #f44336, #ff5252);\n            color: white;\n          }\n        }\n      }\n\n      .table-header {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 30px 20px 15px;\n        position: relative;\n        z-index: 2;\n\n        .table-icon-container {\n          width: 70px;\n          height: 70px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-bottom: 15px;\n          transition: all 0.3s ease;\n          background: rgba(255, 255, 255, 0.9);\n          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\n\n          .table-icon {\n            font-size: 30px;\n\n            &.vip {\n              color: #ffc107;\n            }\n\n            &.large {\n              color: #3f51b5;\n            }\n\n            &.standard {\n              color: #26c6da;\n            }\n          }\n        }\n\n        .table-type-tag {\n          background-color: #f5f5f5;\n          color: #333;\n          padding: 5px 15px;\n          border-radius: 20px;\n          font-size: 16px;\n          font-weight: 600;\n          margin-bottom: 10px;\n          transition: all 0.3s ease;\n        }\n      }\n\n      .table-body {\n        padding: 0 20px 20px;\n        position: relative;\n        z-index: 2;\n\n        .table-features {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          margin-bottom: 15px;\n\n          .feature {\n            background-color: #f0f0f0;\n            padding: 3px 10px;\n            border-radius: 15px;\n            font-size: 12px;\n            color: #555;\n\n            span {\n              display: block;\n            }\n          }\n        }\n\n        .table-info {\n          background-color: rgba(255, 255, 255, 0.7);\n          border-radius: 10px;\n          padding: 12px;\n\n          .table-capacity,\n          .table-availability {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            margin-bottom: 8px;\n            color: $text-secondary;\n            font-size: 14px;\n\n            &:last-child {\n              margin-bottom: 0;\n            }\n\n            .el-icon {\n              color: $primary-color;\n              width: 28px;\n              height: 28px;\n              border-radius: 50%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              flex-shrink: 0;\n            }\n          }\n        }\n      }\n\n      .table-actions {\n        padding: 0 20px 20px;\n        opacity: 0.9;\n        transform: translateY(5px);\n        transition: all 0.3s ease;\n        position: relative;\n        z-index: 2;\n\n        .el-button {\n          width: 100%;\n          height: 44px;\n          font-size: 16px;\n          font-weight: 500;\n          border-radius: 10px;\n          transition: all 0.3s ease;\n\n          &:hover {\n            transform: translateY(-3px);\n            box-shadow: 0 8px 15px rgba($primary-color, 0.2);\n          }\n        }\n      }\n    }\n\n    .no-tables {\n      grid-column: 1 / -1;\n      padding: 40px 0;\n    }\n  }\n}\n\n// 桌子类型分类面板\n.table-types-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n  gap: 25px;\n  margin-bottom: 30px;\n\n  .table-type-card {\n    background-color: white;\n    border-radius: $border-radius;\n    padding: 25px;\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07);\n    transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n    border: 1px solid rgba(0, 0, 0, 0.03);\n    --type-color: #5e6687; /* 默认颜色，会被动态覆盖 */\n\n    &::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(180deg, rgba(255, 255, 255, 0) 70%, rgba(255, 255, 255, 0.8) 100%);\n      opacity: 0;\n      transition: opacity 0.4s ease;\n      z-index: 1;\n    }\n\n    &:hover {\n      transform: translateY(-10px);\n      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);\n\n      &::after {\n        opacity: 1;\n      }\n      \n      .table-type-icon {\n        transform: scale(1.1);\n      }\n    }\n\n    &.vip-table {\n      background: linear-gradient(to bottom, #fff9f0, #fff);\n      border: 1px solid rgba(255, 193, 7, 0.2);\n      \n      &::before {\n        content: 'VIP';\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        background: linear-gradient(45deg, #ffd700, #ffaa00);\n        color: white;\n        font-size: 12px;\n        font-weight: bold;\n        padding: 3px 10px;\n        border-radius: 20px;\n        box-shadow: 0 3px 6px rgba(255, 170, 0, 0.3);\n        z-index: 2;\n      }\n      \n      &:hover {\n        box-shadow: 0 15px 30px rgba(255, 193, 7, 0.15);\n      }\n    }\n\n    .table-type-icon {\n      width: 80px;\n      height: 80px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background-color: #f5f7fa;\n      border-radius: 50%;\n      margin-bottom: 20px;\n      transition: all 0.3s ease;\n      position: relative;\n      z-index: 2;\n      \n      .type-icon {\n        font-size: 40px;\n        color: var(--type-color);\n      }\n    }\n\n    .table-type-info {\n      position: relative;\n      z-index: 2;\n      \n      .type-name {\n        font-size: 20px;\n        font-weight: 600;\n        margin-bottom: 10px;\n        color: var(--type-color);\n      }\n      \n      .table-count {\n        font-size: 16px;\n        color: $text-secondary;\n        background-color: #f5f7fa;\n        padding: 8px 15px;\n        border-radius: 20px;\n        display: inline-block;\n      }\n    }\n  }\n}\n\n// Restaurant Map Location\n.map-section {\n  background-color: white;\n  border-radius: $border-radius;\n  margin: 0 20px 20px;\n  padding: 25px;\n  box-shadow: $box-shadow;\n\n  h2 {\n    margin: 0 0 20px;\n    font-size: 22px;\n    color: $text-primary;\n    font-weight: 600;\n  }\n\n  .map-container {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n\n    .google-map-container {\n      height: 300px;\n      border-radius: $border-radius;\n      overflow: hidden;\n      position: relative;\n      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n\n      iframe {\n        width: 100%;\n        height: 100%;\n        border: none;\n        position: relative;\n        z-index: 1;\n        transition: all 0.3s ease;\n\n        &:hover {\n          box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);\n        }\n      }\n\n      &::before {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 4px;\n        background: $gradient-primary;\n        z-index: 2;\n        border-radius: $border-radius $border-radius 0 0;\n      }\n    }\n\n    .map-placeholder {\n      height: 300px;\n      background-color: #f5f5f5;\n      border-radius: $border-radius;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      color: $text-light;\n\n      .el-icon {\n        font-size: 36px;\n        margin-bottom: 10px;\n      }\n    }\n\n    .address-detail {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 12px 15px;\n      background-color: #f9f9fa;\n      border-radius: 10px;\n\n      p {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        color: $text-secondary;\n        margin: 0;\n        font-weight: 500;\n\n        .el-icon {\n          color: $primary-color;\n        }\n      }\n\n      .el-button {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        transition: all 0.3s ease;\n\n        &:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 5px 15px rgba($primary-color, 0.2);\n        }\n      }\n    }\n  }\n}\n\n// Reviews Section\n.reviews-section {\n  background-color: white;\n  border-radius: $border-radius;\n  margin: 0 20px 80px;\n  padding: 25px;\n  box-shadow: $box-shadow;\n\n  .section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n\n    h2 {\n      margin: 0;\n      font-size: 22px;\n      color: $text-primary;\n      font-weight: 600;\n    }\n  }\n\n  .rating-filter {\n    display: flex;\n    align-items: center;\n    margin-bottom: 15px;\n    background-color: #f8f9fa;\n    padding: 12px 15px;\n    border-radius: 10px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n    transition: all 0.3s ease;\n\n    .filter-label {\n      margin-right: 10px;\n      font-weight: 600;\n    }\n\n    .rating-buttons {\n      display: flex;\n      gap: 5px;\n      flex-wrap: wrap;\n\n      .el-button {\n        padding: 5px 10px;\n        border-radius: 15px;\n        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n        position: relative;\n        overflow: hidden;\n\n        &::before {\n          content: \"\";\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(\n            90deg,\n            transparent,\n            rgba(255, 255, 255, 0.2),\n            transparent\n          );\n          transition: all 0.5s;\n        }\n\n        &.active-rating {\n          background-color: $primary-color;\n          color: white;\n          box-shadow: 0 3px 10px rgba($primary-color, 0.3);\n          font-weight: 500;\n          transform: translateY(-2px);\n\n          .el-icon {\n            animation: pulse 1.5s infinite;\n          }\n        }\n\n        &:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);\n\n          &::before {\n            left: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  .reviews-container {\n    min-height: 300px; // 添加最小高度，确保在加载过程中不会收缩\n\n    .no-reviews {\n      padding: 30px 0;\n    }\n\n    .reviews-list {\n      transition: opacity 0.3s ease, transform 0.3s ease;\n      min-height: 300px; /* 增加最小高度，防止内容变化时的闪烁 */\n\n      .review-item {\n        margin-bottom: 30px;\n        padding-bottom: 25px;\n        border-bottom: 1px solid #eee;\n        transition: transform 0.3s ease, opacity 0.3s ease;\n\n        &:last-child {\n          margin-bottom: 20px;\n        }\n\n        .review-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 15px;\n\n          .user-info {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n\n            .el-avatar {\n              border: 2px solid #f5f5f5;\n              box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);\n            }\n\n            .user-details {\n              .user-name {\n                font-size: 16px;\n                font-weight: 600;\n                color: $text-primary;\n                margin-bottom: 4px;\n              }\n\n              .review-time {\n                font-size: 12px;\n                color: $text-light;\n              }\n            }\n          }\n\n          .review-rating {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n\n            .rating-value {\n              font-size: 18px;\n              font-weight: 700;\n              color: #ffcc00;\n            }\n          }\n        }\n\n        .review-content {\n          p {\n            margin: 0 0 15px;\n            line-height: 1.6;\n            color: $text-secondary;\n            font-size: 15px;\n            position: relative;\n            padding-left: 15px;\n\n            &::before {\n              content: \"\";\n              position: absolute;\n              left: 0;\n              top: 0;\n              bottom: 0;\n              width: 3px;\n              background-color: #f0f0f0;\n              border-radius: 3px;\n            }\n          }\n\n          .review-media {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 10px;\n            margin-bottom: 15px;\n\n            .review-media-item {\n              width: 150px;\n              height: 150px;\n              border-radius: 8px;\n              overflow: hidden;\n              position: relative;\n              box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n              transition: all 0.3s ease;\n\n              &:hover {\n                transform: scale(1.03);\n                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);\n              }\n\n              .image-error {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                background-color: #f5f5f5;\n                color: #999;\n\n                .el-icon {\n                  font-size: 40px;\n                  margin-bottom: 10px;\n                }\n\n                span {\n                  font-size: 14px;\n                }\n              }\n\n              &.video-container {\n                background-color: #000;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                cursor: pointer;\n                position: relative;\n\n                .review-video {\n                  width: 100%;\n                  height: 100%;\n                  object-fit: cover;\n                  z-index: 1;\n                }\n\n                /* Enhance video control visibility */\n                video::-webkit-media-controls {\n                  z-index: 10;\n                }\n              }\n            }\n          }\n\n          .review-videos {\n            display: none; // No longer used separately\n          }\n        }\n      }\n\n      .load-more {\n        display: flex;\n        justify-content: center;\n        margin-top: 20px;\n\n        .el-button {\n          padding: 10px 30px;\n          transition: all 0.3s;\n\n          &:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n          }\n        }\n      }\n    }\n  }\n}\n\n// Bottom Action Bar\n.bottom-action-bar {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(255, 255, 255, 0.9);\n  backdrop-filter: blur(10px);\n  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.08);\n  padding: 15px 20px;\n  z-index: 50;\n  display: flex;\n  justify-content: center;\n\n  .reserve-action-btn {\n    background: $gradient-primary;\n    border: none;\n    width: 80%;\n    max-width: 400px;\n    height: 52px;\n    font-size: 18px;\n    font-weight: 600;\n    border-radius: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n    transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);\n    position: relative;\n    overflow: hidden;\n\n    &::before {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      left: -100%;\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(\n        90deg,\n        transparent,\n        rgba(255, 255, 255, 0.2),\n        transparent\n      );\n      transition: all 0.5s;\n    }\n\n    &:hover {\n      transform: translateY(-2px) scale(1.02);\n      box-shadow: 0 10px 25px rgba($primary-color, 0.3);\n\n      &::before {\n        left: 100%;\n      }\n    }\n\n    .el-icon {\n      font-size: 20px;\n    }\n  }\n}\n\n// Responsive adjustments\n@media (max-width: 768px) {\n  .restaurant-gallery {\n    height: 250px;\n  }\n\n  .restaurant-info-card {\n    .restaurant-meta {\n      .restaurant-name {\n        font-size: 24px;\n      }\n    }\n  }\n\n  .tables-section {\n    .tables-container {\n      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    }\n  }\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n// Time Selection Dialog Style\n.time-selection-dialog {\n  :deep(.el-dialog) {\n    border-radius: 16px;\n    overflow: hidden;\n    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1), 0 8px 20px rgba(0, 0, 0, 0.08);\n  }\n\n  :deep(.el-dialog__header) {\n    padding: 20px 24px;\n    border-bottom: 1px solid #f5f5f5;\n    margin-right: 0;\n    position: relative;\n    background: linear-gradient(to right, lighten($primary-color, 40%), white);\n\n    &::after {\n      content: \"\";\n      position: absolute;\n      bottom: -1px;\n      left: 0;\n      width: 100px;\n      height: 3px;\n      background: $gradient-primary;\n      border-radius: 3px 3px 0 0;\n    }\n\n    .el-dialog__title {\n      font-size: 22px;\n      color: $text-primary;\n      font-weight: 700;\n      position: relative;\n\n      &::before {\n        content: \"\";\n        position: absolute;\n        left: -12px;\n        top: 0;\n        height: 100%;\n        width: 4px;\n        background: $primary-color;\n        border-radius: 2px;\n      }\n    }\n\n    .el-dialog__headerbtn {\n      top: 23px;\n      right: 24px;\n\n      .el-dialog__close {\n        color: $text-secondary;\n        font-size: 22px;\n        transition: all 0.3s;\n\n        &:hover {\n          color: $primary-color;\n          transform: rotate(90deg);\n        }\n      }\n    }\n  }\n\n  :deep(.el-dialog__body) {\n    padding: 0;\n  }\n\n  :deep(.el-dialog__footer) {\n    padding: 20px 24px;\n    border-top: 1px solid #f5f5f5;\n    background-color: rgba(249, 250, 251, 0.8);\n    backdrop-filter: blur(10px);\n  }\n\n  .time-selection-content {\n    .selected-table-info {\n      display: flex;\n      gap: 24px;\n      padding: 24px;\n      position: relative;\n      border-bottom: 1px dashed #eaeaea;\n      background: linear-gradient(to right, #fcfcfc, white);\n\n      .table-icon-wrapper {\n        position: relative;\n\n        &::after {\n          content: \"\";\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 100px;\n          height: 100px;\n          background: radial-gradient(\n            circle,\n            rgba($primary-color, 0.08) 0%,\n            rgba(255, 255, 255, 0) 70%\n          );\n          border-radius: 50%;\n          z-index: 0;\n        }\n      }\n\n      .table-icon {\n        background-color: #f8f9fa;\n        width: 80px;\n        height: 80px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);\n        border: 5px solid white;\n        transition: all 0.3s;\n        z-index: 1;\n\n        &:hover {\n          transform: scale(1.05);\n        }\n\n        .el-icon {\n          font-size: 36px;\n          color: $primary-color;\n        }\n\n        &.vip-icon {\n          background: linear-gradient(135deg, #fff9e6, #fff5e5);\n          border-color: #fffbf0;\n\n          .el-icon {\n            color: #ffc107;\n          }\n\n          &::after {\n            content: \"VIP\";\n            position: absolute;\n            bottom: -10px;\n            right: -10px;\n            background: linear-gradient(45deg, #ffc107, #ff9800);\n            color: white;\n            font-size: 12px;\n            font-weight: bold;\n            padding: 3px 8px;\n            border-radius: 10px;\n            box-shadow: 0 3px 8px rgba(255, 152, 0, 0.2);\n          }\n        }\n\n        &.large-icon {\n          background: linear-gradient(135deg, #f0f3ff, #ebeeff);\n          border-color: #f7f8ff;\n\n          .el-icon {\n            color: #3f51b5;\n          }\n        }\n\n        &.standard-icon {\n          background: linear-gradient(135deg, #e8f9fb, #ecfeff);\n          border-color: #f0fdff;\n\n          .el-icon {\n            color: #26c6da;\n          }\n        }\n      }\n\n      .table-details {\n        flex: 1;\n\n        h3 {\n          margin: 0 0 8px;\n          font-size: 22px;\n          color: $text-primary;\n          font-weight: 700;\n          position: relative;\n          display: inline-block;\n\n          &::after {\n            content: \"\";\n            position: absolute;\n            bottom: -2px;\n            left: 0;\n            width: 100%;\n            height: 2px;\n            background: $gradient-primary;\n            border-radius: 2px;\n          }\n        }\n\n        p {\n          margin: 0 0 12px;\n          color: $text-secondary;\n          font-size: 16px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n\n          .el-icon {\n            color: $primary-color;\n            font-size: 18px;\n          }\n        }\n\n        .table-tags {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n\n          .tag {\n            padding: 4px 10px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n\n            &.vip-tag {\n              background-color: rgba(255, 193, 7, 0.15);\n              color: #ffab00;\n            }\n\n            &.large-tag {\n              background-color: rgba(63, 81, 181, 0.15);\n              color: #3949ab;\n            }\n\n            &.standard-tag {\n              background-color: rgba(38, 198, 218, 0.15);\n              color: #00acc1;\n            }\n          }\n        }\n      }\n    }\n\n    .selection-container {\n      display: grid;\n      grid-template-columns: 240px 1fr;\n      gap: 0;\n      border-bottom: 1px dashed #eaeaea;\n\n      .date-selection {\n        padding: 24px;\n        border-right: 1px dashed #eaeaea;\n        background-color: #fcfcfc;\n\n        h4 {\n          font-size: 17px;\n          margin: 0 0 16px;\n          color: $text-primary;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n\n          .el-icon {\n            color: $primary-color;\n          }\n        }\n\n        .el-date-picker {\n          width: 100%;\n        }\n\n        .note {\n          margin: 16px 0 0;\n          color: $primary-color;\n          font-size: 13px;\n          padding: 8px 12px;\n          border-radius: 8px;\n          background-color: $secondary-color;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n\n          .el-icon {\n            color: $primary-color;\n            font-size: 16px;\n            flex-shrink: 0;\n          }\n        }\n      }\n\n      .time-slots {\n        padding: 24px;\n\n        h4 {\n          font-size: 17px;\n          margin: 0 0 16px;\n          color: $text-primary;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n\n          .el-icon {\n            color: $primary-color;\n          }\n\n          .selected-time-range {\n            font-size: 14px;\n            background: $gradient-primary;\n            color: white;\n            padding: 4px 12px;\n            border-radius: 20px;\n            margin-left: 10px;\n            display: inline-flex;\n            align-items: center;\n            gap: 5px;\n            font-weight: 500;\n            box-shadow: 0 3px 8px rgba($primary-color, 0.2);\n          }\n        }\n\n        .time-hint,\n        .selection-hint {\n          margin: 0 0 8px;\n          color: $text-secondary;\n          font-size: 14px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n\n          .el-icon {\n            color: $primary-color;\n            font-size: 16px;\n            flex-shrink: 0;\n          }\n        }\n\n        .day-type-hint {\n          margin: 0 0 8px;\n          color: $primary-color;\n          font-size: 14px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 5px 12px;\n          background-color: rgba($primary-color, 0.05);\n          border-radius: 8px;\n\n          .el-icon {\n            color: $primary-color;\n            font-size: 16px;\n            flex-shrink: 0;\n          }\n        }\n\n        .selection-hint {\n          margin-bottom: 16px;\n          color: #ff9800;\n          background-color: rgba(255, 152, 0, 0.08);\n          padding: 8px 12px;\n          border-radius: 8px;\n\n          .el-icon {\n            color: #ff9800;\n          }\n        }\n\n        .time-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n          gap: 12px;\n\n          .el-button {\n            padding: 14px 10px;\n            border-radius: 10px;\n            transition: all 0.3s ease;\n\n            &.selected {\n              background: $gradient-primary;\n              color: white;\n              border-color: $primary-color;\n              transform: translateY(-3px);\n              box-shadow: 0 8px 15px rgba($primary-color, 0.2);\n              position: relative;\n              font-weight: 600;\n\n              &:not(:last-of-type) {\n                border-right: 2px solid white;\n              }\n\n              &:not(:first-of-type) {\n                border-left: 2px solid white;\n              }\n\n              &::after {\n                content: \"\";\n                position: absolute;\n                bottom: -5px;\n                left: 50%;\n                transform: translateX(-50%);\n                width: 8px;\n                height: 8px;\n                background-color: $primary-color;\n                border-radius: 50%;\n              }\n            }\n\n            &:hover:not(.is-disabled):not(.selected) {\n              background-color: $secondary-color;\n              border-color: $primary-color;\n              transform: translateY(-3px);\n              box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05);\n            }\n\n            &.is-disabled {\n              opacity: 0.5;\n              text-decoration: line-through;\n              background-color: #f5f5f5;\n              color: #aaa;\n            }\n          }\n        }\n      }\n    }\n\n    .reservation-details {\n      padding: 24px;\n\n      h4 {\n        font-size: 17px;\n        margin: 0 0 16px;\n        color: $text-primary;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        position: relative;\n\n        .el-icon {\n          color: $primary-color;\n        }\n\n        &::after {\n          content: \"\";\n          position: absolute;\n          bottom: -8px;\n          left: 0;\n          width: 100px;\n          height: 2px;\n          background: $gradient-primary;\n          border-radius: 2px;\n        }\n      }\n\n      .details-grid {\n        display: grid;\n        grid-template-columns: 1fr 2fr;\n        gap: 20px;\n\n        .detail-item {\n          position: relative;\n\n          label {\n            display: block;\n            margin-bottom: 10px;\n            color: $text-secondary;\n            font-weight: 500;\n            font-size: 15px;\n          }\n\n          .el-input-number {\n            width: 100%;\n          }\n\n          .capacity-info {\n            display: block;\n            margin-top: 8px;\n            font-size: 13px;\n            color: #9e9e9e;\n          }\n\n          :deep(.el-input__wrapper) {\n            border-radius: 8px;\n            box-shadow: 0 0 0 1px #e0e0e0;\n            padding: 8px 12px;\n            transition: all 0.3s;\n\n            &.is-focus {\n              box-shadow: 0 0 0 2px rgba($primary-color, 0.2);\n            }\n          }\n\n          :deep(.el-textarea__inner) {\n            border-radius: 10px;\n            border: 1px solid #e0e0e0;\n            padding: 12px;\n            transition: all 0.3s;\n            resize: none;\n\n            &:focus {\n              border-color: $primary-color;\n              box-shadow: 0 0 0 2px rgba($primary-color, 0.1);\n            }\n          }\n\n          :deep(.el-input-number__decrease),\n          :deep(.el-input-number__increase) {\n            border-color: #e0e0e0;\n            color: $text-secondary;\n\n            &:hover {\n              color: $primary-color;\n            }\n          }\n\n          &.remarks-item {\n            grid-column: span 2;\n          }\n        }\n      }\n    }\n  }\n\n  .dialog-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .reservation-summary {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 15px;\n      max-width: 65%;\n\n      .summary-item {\n        font-size: 14px;\n\n        .label {\n          color: $text-secondary;\n          margin-right: 5px;\n        }\n\n        .value {\n          color: $text-primary;\n          font-weight: 600;\n        }\n      }\n    }\n\n    .action-buttons {\n      display: flex;\n      gap: 12px;\n\n      .el-button {\n        border-radius: 8px;\n        padding: 12px 24px;\n        font-size: 16px;\n\n        &.cancel-btn {\n          color: $text-secondary;\n          border-color: #e0e0e0;\n\n          &:hover {\n            color: $text-primary;\n            border-color: #ccc;\n            background-color: #f5f5f5;\n          }\n        }\n\n        &.confirm-btn {\n          background: $gradient-primary;\n          border: none;\n          padding: 12px 32px;\n          box-shadow: 0 4px 10px rgba($primary-color, 0.2);\n\n          &:hover:not(.is-disabled) {\n            transform: translateY(-2px);\n            box-shadow: 0 6px 15px rgba($primary-color, 0.3);\n          }\n\n          &.is-disabled {\n            opacity: 0.7;\n            background: #ccc;\n          }\n        }\n      }\n    }\n  }\n}\n\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(1.1);\n    opacity: 0.8;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n// Style for loading state of reviews section\n.reviews-section {\n  :deep(.el-loading-mask) {\n    background-color: rgba(255, 255, 255, 0.7);\n    backdrop-filter: blur(3px);\n    border-radius: $border-radius;\n    transition: opacity 0.3s ease;\n\n    .el-loading-spinner {\n      .circular {\n        animation: rotate 1.5s linear infinite;\n      }\n\n      .el-loading-text {\n        color: $primary-color;\n        font-weight: 500;\n        margin-top: 8px;\n      }\n    }\n  }\n}\n\n.section-title {\n  font-size: 24px;\n  font-weight: 700;\n  color: $text-primary;\n  margin-bottom: 20px;\n  position: relative;\n  padding-left: 15px;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 5px;\n    height: 24px;\n    background: $gradient-primary;\n    border-radius: 3px;\n  }\n}\n\n.table-list-dialog {\n  :deep(.el-dialog__header) {\n    padding: 20px 24px;\n    border-bottom: 1px solid #f0f0f0;\n    margin-right: 0;\n\n    \n    .el-dialog__title {\n      font-size: 20px;\n      font-weight: 700;\n      color: $text-primary;\n    }\n  }\n  \n  :deep(.el-dialog__body) {\n    padding: 30px;\n    max-height: 70vh;\n    overflow-y: auto;\n  }\n  \n  .tables-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 25px;\n  }\n}\n\n// 桌子列表弹窗样式优化\n.table-list-dialog {\n  :deep(.el-dialog) {\n    border-radius: 20px;\n    overflow: hidden;\n    background: #f9fafc;\n    box-shadow: 0 24px 48px rgba(0, 0, 0, 0.1);\n  }\n  \n  :deep(.el-dialog__header) {\n    padding: 20px 30px;\n    border-bottom: 1px solid #eaedf2;\n    background-color: white;\n    position: relative;\n    \n    &::after {\n      content: '';\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      width: 100px;\n      height: 3px;\n      background: $gradient-primary;\n    }\n    \n    .el-dialog__title {\n      font-size: 22px;\n      font-weight: 800;\n      background: $gradient-primary;\n      -webkit-background-clip: text;\n      background-clip: text;\n      color: transparent;\n      display: inline-block;\n    }\n    \n    .el-dialog__headerbtn {\n      top: 20px;\n      right: 20px;\n      \n      .el-dialog__close {\n        font-size: 20px;\n        color: #5e6687;\n        transition: all 0.3s;\n        \n        &:hover {\n          transform: rotate(90deg);\n          color: $primary-color;\n        }\n      }\n    }\n  }\n  \n  :deep(.el-dialog__body) {\n    padding: 0;\n    background-color: #f9fafc;\n  }\n}\n\n// 过滤栏样式\n.table-filter-bar {\n  padding: 20px 30px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: white;\n  border-bottom: 1px solid #eaedf2;\n  \n  .filter-title {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    color: #5e6687;\n    font-weight: 600;\n    font-size: 16px;\n    \n    .el-icon {\n      color: $primary-color;\n      font-size: 18px;\n    }\n  }\n  \n  .capacity-filter {\n    :deep(.el-radio-group) {\n      .el-radio-button__inner {\n        border-color: #e4e7f0;\n        border-left-color: #e4e7f0;\n        color: #5e6687;\n        padding: 8px 15px;\n        transition: all 0.3s;\n        \n        &:hover:not(.is-active) {\n          color: $primary-color;\n          background-color: rgba($primary-color, 0.05);\n        }\n      }\n      \n      .el-radio-button__original-radio:checked + .el-radio-button__inner {\n        background: $gradient-primary;\n        border-color: $primary-color;\n        box-shadow: -1px 0 0 0 $primary-color;\n        color: white;\n      }\n      \n      .el-radio-button:first-child .el-radio-button__inner {\n        border-radius: 10px 0 0 10px;\n      }\n      \n      .el-radio-button:last-child .el-radio-button__inner {\n        border-radius: 0 10px 10px 0;\n      }\n    }\n  }\n}\n\n// 桌子网格容器\n.tables-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 25px;\n  padding: 30px;\n}\n\n// 现代桌子卡片样式\n.table-card-modern {\n  position: relative;\n  background-color: white;\n  border-radius: 20px;\n  overflow: hidden;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);\n  transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);\n  display: flex;\n  flex-direction: column;\n  height: 320px;\n  cursor: pointer;\n  transform-origin: center bottom;\n  \n  &:hover {\n    transform: translateY(-10px) scale(1.02);\n    box-shadow: 0 20px 30px rgba(0, 0, 0, 0.1);\n    \n    .table-backdrop {\n      opacity: 1;\n    }\n    \n    .table-icon-container-modern {\n      transform: scale(1.1);\n    }\n    \n    .select-btn {\n      transform: translateY(-5px);\n      box-shadow: 0 8px 15px rgba($primary-color, 0.3);\n    }\n  }\n  \n  .table-backdrop {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 70%);\n    opacity: 0.5;\n    transition: opacity 0.4s ease;\n    z-index: 0;\n  }\n  \n  &.vip-table {\n    background: linear-gradient(165deg, #fff8e8, white);\n    border: 1px solid rgba(255, 193, 7, 0.2);\n    \n    &::before {\n      content: 'VIP';\n      position: absolute;\n      top: 20px;\n      right: 20px;\n      background: linear-gradient(45deg, #ffd700, #ff9800);\n      color: white;\n      font-size: 12px;\n      font-weight: bold;\n      padding: 4px 12px;\n      border-radius: 20px;\n      box-shadow: 0 3px 6px rgba(255, 152, 0, 0.3);\n      z-index: 3;\n      letter-spacing: 1px;\n    }\n    \n    .table-icon-container-modern {\n      background-color: rgba(255, 193, 7, 0.1);\n      \n      &::after {\n        background: radial-gradient(circle, rgba(255, 193, 7, 0.2) 0%, rgba(255, 255, 255, 0) 70%);\n      }\n    }\n    \n    .table-type-modern {\n      color: #ff9800;\n    }\n    \n    .feature-tag {\n      background-color: rgba(255, 193, 7, 0.1);\n      color: #ff9800;\n    }\n  }\n  \n  &.large-table {\n    background: linear-gradient(165deg, #f0f5ff, white);\n    border: 1px solid rgba(63, 81, 181, 0.2);\n    \n    .table-icon-container-modern {\n      background-color: rgba(63, 81, 181, 0.1);\n      \n      &::after {\n        background: radial-gradient(circle, rgba(63, 81, 181, 0.2) 0%, rgba(255, 255, 255, 0) 70%);\n      }\n    }\n    \n    .table-type-modern {\n      color: #3f51b5;\n    }\n    \n    .feature-tag {\n      background-color: rgba(63, 81, 181, 0.1);\n      color: #3f51b5;\n    }\n  }\n  \n  &.standard-table {\n    background: linear-gradient(165deg, #e8f8f5, white);\n    border: 1px solid rgba(38, 166, 154, 0.2);\n    \n    .table-icon-container-modern {\n      background-color: rgba(38, 166, 154, 0.1);\n      \n      &::after {\n        background: radial-gradient(circle, rgba(38, 166, 154, 0.2) 0%, rgba(255, 255, 255, 0) 70%);\n      }\n    }\n    \n    .table-type-modern {\n      color: #26a69a;\n    }\n    \n    .feature-tag {\n      background-color: rgba(38, 166, 154, 0.1);\n      color: #26a69a;\n    }\n  }\n  \n  .table-status-tag {\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    z-index: 3;\n    \n    .status-badge {\n      padding: 4px 12px;\n      border-radius: 20px;\n      font-size: 12px;\n      font-weight: 600;\n      \n      &.available {\n        background-color: rgba(76, 175, 80, 0.1);\n        color: #4caf50;\n      }\n    }\n  }\n  \n  .table-header-modern {\n    padding: 20px;\n    position: relative;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    z-index: 1;\n    \n    .table-icon-container-modern {\n      width: 60px;\n      height: 60px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      transition: all 0.3s ease;\n      z-index: 2;\n      \n      &::after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 100px;\n        height: 100px;\n        border-radius: 50%;\n        z-index: -1;\n      }\n      \n      .table-icon-modern {\n        font-size: 30px;\n        color: $primary-color;\n        \n        &.vip {\n          color: #ff9800;\n        }\n        \n        &.large {\n          color: #3f51b5;\n        }\n        \n        &.standard {\n          color: #26a69a;\n        }\n      }\n    }\n    \n    .table-id {\n      color: #8792a8;\n      font-size: 14px;\n      font-weight: 600;\n    }\n  }\n  \n  .table-content-modern {\n    padding: 0 20px;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    z-index: 1;\n    \n    .table-type-modern {\n      font-size: 18px;\n      font-weight: 700;\n      margin: 0 0 15px;\n      color: $text-primary;\n    }\n    \n    .table-info-modern {\n      margin-bottom: 20px;\n      \n      .info-row {\n        display: flex;\n        align-items: center;\n        gap: 10px;\n        margin-bottom: 10px;\n        color: $text-secondary;\n        font-size: 15px;\n        \n        .el-icon {\n          color: $primary-color;\n          font-size: 18px;\n        }\n      }\n    }\n    \n    .table-features-modern {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 10px;\n      \n      .feature-tag {\n        padding: 5px 12px;\n        border-radius: 20px;\n        font-size: 12px;\n        font-weight: 600;\n        background-color: rgba($primary-color, 0.1);\n        color: $primary-color;\n      }\n    }\n  }\n  \n  .table-footer-modern {\n    padding: 20px;\n    border-top: 1px solid rgba(0, 0, 0, 0.05);\n    position: relative;\n    z-index: 1;\n    \n    .select-btn {\n      width: 100%;\n      padding: 12px;\n      border-radius: 12px;\n      border: none;\n      font-weight: 600;\n      transition: all 0.3s ease;\n      \n      &:hover {\n        opacity: 0.9;\n      }\n    }\n  }\n}\n\n// 无桌子时的样式\n.no-tables-modern {\n  grid-column: 1 / -1;\n  padding: 50px 0;\n  \n  :deep(.el-empty) {\n    padding: 40px;\n  }\n  \n  .empty-icon-container {\n    width: 120px;\n    height: 120px;\n    background-color: rgba($primary-color, 0.1);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto 20px;\n    \n    .empty-icon {\n      font-size: 60px;\n      color: $primary-color;\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}