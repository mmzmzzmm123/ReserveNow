{"ast":null,"code":"import { ref, reactive, onMounted } from 'vue';\nimport request from '@/utils/request';\nimport { useRouter } from 'vue-router';\nconst defaultAvatar = 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png';\n\n// User Information\n\nexport default {\n  __name: 'Profile',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n\n    // Back to Home\n    const goBack = () => {\n      router.push('/');\n    };\n\n    // Default Avatar\n    const userInfo = ref({\n      userId: '',\n      name: '',\n      email: '',\n      role: '',\n      avatar: '',\n      createdAt: '',\n      status: ''\n    });\n\n    // Password Form\n    const passwordForm = reactive({\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    });\n\n    // Edit Form State\n    const showEditDialog = ref(false);\n    const showPasswordFields = ref(false);\n    const editForm = reactive({\n      name: '',\n      avatar: '',\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    });\n\n    // State Control\n    const showPasswordDialog = ref(false);\n    const isSubmitting = ref(false);\n    const showPassword = reactive({\n      old: false,\n      new: false,\n      confirm: false\n    });\n\n    // File Upload Related\n    const fileInput = ref(null);\n    const triggerFileInput = () => {\n      fileInput.value.click();\n    };\n\n    // Get User Information\n    const fetchUserInfo = async () => {\n      try {\n        const response = await request.get('/users/info');\n        if (response.code === 200) {\n          userInfo.value = response.data;\n        }\n      } catch (error) {\n        console.error('Failed to get user information:', error);\n      }\n    };\n\n    // Format Date\n    const formatDate = date => {\n      return new Date(date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    };\n\n    // Show Password Change Dialog\n    const showPasswordModal = () => {\n      showPasswordDialog.value = true;\n    };\n\n    // Close Password Change Dialog\n    const closePasswordDialog = () => {\n      showPasswordDialog.value = false;\n      passwordForm.oldPassword = '';\n      passwordForm.newPassword = '';\n      passwordForm.confirmPassword = '';\n    };\n\n    // Toggle Password Display State\n    const togglePassword = field => {\n      showPassword[field] = !showPassword[field];\n    };\n\n    // Handle Password Change\n    const handlePasswordChange = async () => {\n      if (!passwordForm.oldPassword || !passwordForm.newPassword || !passwordForm.confirmPassword) {\n        alert('Please fill in all information');\n        return;\n      }\n      if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n        alert('The two passwords do not match');\n        return;\n      }\n      isSubmitting.value = true;\n      try {\n        const response = await request.put('/users/update', {\n          oldPassword: passwordForm.oldPassword,\n          newPassword: passwordForm.newPassword,\n          confirmPassword: passwordForm.confirmPassword\n        });\n        if (response.code === 200) {\n          alert('Password change successful');\n          closePasswordDialog();\n        }\n      } catch (error) {\n        console.error('Failed to change password:', error);\n        alert('Failed to change password');\n      } finally {\n        isSubmitting.value = false;\n      }\n    };\n\n    // Handle Avatar Upload\n    const handleAvatarUpload = () => {\n      showEditDialog.value = true;\n      setTimeout(() => {\n        triggerFileInput();\n      }, 300);\n    };\n\n    // Handle File Selection\n    const handleFileChange = async event => {\n      const file = event.target.files[0];\n      if (!file) return;\n      const formData = new FormData();\n      formData.append('file', file);\n      try {\n        const response = await request.post('/files/images', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        if (response.code === 200) {\n          editForm.avatar = response.data.url || response.data;\n        }\n      } catch (error) {\n        console.error('Failed to upload avatar:', error);\n        alert('Failed to upload avatar, please try again later');\n      }\n    };\n\n    // Start Editing Profile\n    const startEdit = () => {\n      editForm.name = userInfo.value.name;\n      editForm.avatar = userInfo.value.avatar;\n      showEditDialog.value = true;\n    };\n\n    // Close Edit Dialog\n    const closeEditDialog = () => {\n      showEditDialog.value = false;\n      showPasswordFields.value = false;\n      editForm.name = '';\n      editForm.avatar = '';\n      editForm.oldPassword = '';\n      editForm.newPassword = '';\n      editForm.confirmPassword = '';\n    };\n\n    // Toggle Password Field Display\n    const togglePasswordFields = () => {\n      showPasswordFields.value = !showPasswordFields.value;\n      if (!showPasswordFields.value) {\n        editForm.oldPassword = '';\n        editForm.newPassword = '';\n        editForm.confirmPassword = '';\n      }\n    };\n\n    // Handle Profile Update\n    const handleProfileUpdate = async () => {\n      if (!editForm.name.trim()) {\n        alert('Please enter a username');\n        return;\n      }\n      if (showPasswordFields.value) {\n        if (!editForm.oldPassword || !editForm.newPassword || !editForm.confirmPassword) {\n          alert('Please fill in all password information');\n          return;\n        }\n        if (editForm.newPassword !== editForm.confirmPassword) {\n          alert('The two passwords do not match');\n          return;\n        }\n      }\n      isSubmitting.value = true;\n      try {\n        const updateData = {\n          name: editForm.name,\n          avatar: editForm.avatar\n        };\n        if (showPasswordFields.value) {\n          Object.assign(updateData, {\n            oldPassword: editForm.oldPassword,\n            newPassword: editForm.newPassword,\n            confirmPassword: editForm.confirmPassword\n          });\n        }\n        const response = await request.put('/users/update', updateData);\n        if (response.code === 200) {\n          userInfo.value = response.data;\n          alert('Update successful');\n          closeEditDialog();\n        }\n      } catch (error) {\n        console.error('Failed to update:', error);\n        alert('Failed to update, please try again later');\n      } finally {\n        isSubmitting.value = false;\n      }\n    };\n\n    // Component Mounted Get User Information\n    onMounted(() => {\n      fetchUserInfo();\n    });\n    const __returned__ = {\n      router,\n      goBack,\n      defaultAvatar,\n      userInfo,\n      passwordForm,\n      showEditDialog,\n      showPasswordFields,\n      editForm,\n      showPasswordDialog,\n      isSubmitting,\n      showPassword,\n      fileInput,\n      triggerFileInput,\n      fetchUserInfo,\n      formatDate,\n      showPasswordModal,\n      closePasswordDialog,\n      togglePassword,\n      handlePasswordChange,\n      handleAvatarUpload,\n      handleFileChange,\n      startEdit,\n      closeEditDialog,\n      togglePasswordFields,\n      handleProfileUpdate,\n      ref,\n      reactive,\n      onMounted,\n      get request() {\n        return request;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","request","useRouter","defaultAvatar","router","goBack","push","userInfo","userId","name","email","role","avatar","createdAt","status","passwordForm","oldPassword","newPassword","confirmPassword","showEditDialog","showPasswordFields","editForm","showPasswordDialog","isSubmitting","showPassword","old","new","confirm","fileInput","triggerFileInput","value","click","fetchUserInfo","response","get","code","data","error","console","formatDate","date","Date","toLocaleDateString","year","month","day","showPasswordModal","closePasswordDialog","togglePassword","field","handlePasswordChange","alert","put","handleAvatarUpload","setTimeout","handleFileChange","event","file","target","files","formData","FormData","append","post","headers","url","startEdit","closeEditDialog","togglePasswordFields","handleProfileUpdate","trim","updateData","Object","assign"],"sources":["/Users/taoyuxuan/Documents/RestaurantReservation/qd/src/views/Profile.vue"],"sourcesContent":["<template>\r\n  <div class=\"profile-container\">\r\n    <!-- Background Animation -->\r\n    <div class=\"animated-background\">\r\n      <div class=\"gradient-sphere\"></div>\r\n      <div class=\"gradient-sphere\"></div>\r\n      <div class=\"gradient-sphere\"></div>\r\n    </div>\r\n    \r\n    <!-- Back Button -->\r\n    <div class=\"back-button\" @click=\"goBack\">\r\n      <i class=\"fas fa-arrow-left\"></i>\r\n      <span>Back to Home</span>\r\n    </div>\r\n\r\n    <!-- Profile Main Container -->\r\n    <div class=\"profile-content\">\r\n      <!-- Profile Card -->\r\n      <div class=\"profile-card glass-effect\">\r\n        <div class=\"profile-header\">\r\n          <div class=\"avatar-container\">\r\n            <div class=\"avatar-wrapper\">\r\n              <img :src=\"userInfo.avatar || defaultAvatar\" :alt=\"userInfo.name\">\r\n              <div class=\"avatar-overlay\" @click=\"handleAvatarUpload\">\r\n                <i class=\"fas fa-camera\"></i>\r\n                <span>Change Avatar</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"user-status\" :class=\"userInfo.status === 'Active' ? 'active' : 'inactive'\">\r\n              <span class=\"status-dot\"></span>\r\n              {{ userInfo.status }}\r\n            </div>\r\n          </div>\r\n          <div class=\"user-info\">\r\n            <h1>{{ userInfo.name }}</h1>\r\n            <div class=\"role-badge\">\r\n              <i class=\"fas fa-user-shield\"></i>\r\n              {{ userInfo.role }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"info-grid\">\r\n          <div class=\"info-card glass-effect-light\">\r\n            <i class=\"fas fa-envelope\"></i>\r\n            <div class=\"info-content\">\r\n              <label>Email Account</label>\r\n              <span>{{ userInfo.email }}</span>\r\n            </div>\r\n            <div class=\"card-decoration\"></div>\r\n          </div>\r\n\r\n          <div class=\"info-card glass-effect-light\">\r\n            <i class=\"fas fa-calendar-alt\"></i>\r\n            <div class=\"info-content\">\r\n              <label>Registration Date</label>\r\n              <span>{{ formatDate(userInfo.createdAt) }}</span>\r\n            </div>\r\n            <div class=\"card-decoration\"></div>\r\n          </div>\r\n\r\n          <div class=\"info-card glass-effect-light\">\r\n            <i class=\"fas fa-shield-alt\"></i>\r\n            <div class=\"info-content\">\r\n              <label>Account Level</label>\r\n              <span>Regular Member</span>\r\n            </div>\r\n            <div class=\"card-decoration\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"action-buttons\">\r\n          <button class=\"btn-edit glass-button\" @click=\"startEdit\">\r\n            <i class=\"fas fa-edit\"></i>\r\n            <span>Edit Profile</span>\r\n            <div class=\"button-effect\"></div>\r\n          </button>\r\n          <button class=\"btn-password glass-button\" @click=\"showPasswordModal\">\r\n            <i class=\"fas fa-key\"></i>\r\n            <span>Change Password</span>\r\n            <div class=\"button-effect\"></div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Account Security Card -->\r\n      <div class=\"security-card glass-effect\">\r\n        <h2 class=\"card-title\">\r\n          <i class=\"fas fa-shield-alt\"></i>\r\n          Account Security\r\n        </h2>\r\n        <div class=\"security-items\">\r\n          <div class=\"security-item\">\r\n            <div class=\"security-icon\">\r\n              <i class=\"fas fa-lock\">password</i>\r\n            </div>\r\n            <div class=\"security-info\">\r\n              <h3>Login Password</h3>\r\n              <p>Regular password changes are recommended for account security</p>\r\n            </div>\r\n            <button class=\"security-action glass-button-small\" @click=\"showPasswordModal\">\r\n              <span>Change</span>\r\n              <i class=\"fas fa-chevron-right\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Change Password Modal -->\r\n    <div class=\"modal-overlay\" v-if=\"showPasswordDialog\" @click.self=\"closePasswordDialog\">\r\n      <div class=\"modal-card glass-effect scrollable-modal\">\r\n        <div class=\"modal-header sticky-header\">\r\n          <h2>\r\n            <i class=\"fas fa-key\"></i>\r\n            Change Password\r\n          </h2>\r\n          <button class=\"btn-close\" @click=\"closePasswordDialog\">\r\n            <i class=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <form class=\"password-form scrollable-content\" @submit.prevent=\"handlePasswordChange\">\r\n          <div class=\"form-group\">\r\n            <div class=\"input-wrapper\">\r\n              <i class=\"fas fa-lock\"></i>\r\n              <input \r\n                :type=\"showPassword.old ? 'text' : 'password'\" \r\n                v-model=\"passwordForm.oldPassword\"\r\n                placeholder=\"Current Password\"\r\n              >\r\n              <button type=\"button\" class=\"toggle-password\" @click=\"togglePassword('old')\">\r\n                <i class=\"fas\" :class=\"showPassword.old ? 'fa-eye-slash' : 'fa-eye'\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <div class=\"input-wrapper\">\r\n              <i class=\"fas fa-key\"></i>\r\n              <input \r\n                :type=\"showPassword.new ? 'text' : 'password'\" \r\n                v-model=\"passwordForm.newPassword\"\r\n                placeholder=\"New Password\"\r\n              >\r\n              <button type=\"button\" class=\"toggle-password\" @click=\"togglePassword('new')\">\r\n                <i class=\"fas\" :class=\"showPassword.new ? 'fa-eye-slash' : 'fa-eye'\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <div class=\"input-wrapper\">\r\n              <i class=\"fas fa-check-circle\"></i>\r\n              <input \r\n                :type=\"showPassword.confirm ? 'text' : 'password'\" \r\n                v-model=\"passwordForm.confirmPassword\"\r\n                placeholder=\"Confirm New Password\"\r\n              >\r\n              <button type=\"button\" class=\"toggle-password\" @click=\"togglePassword('confirm')\">\r\n                <i class=\"fas\" :class=\"showPassword.confirm ? 'fa-eye-slash' : 'fa-eye'\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-actions\">\r\n            <button type=\"button\" class=\"btn-cancel glass-button-small\" @click=\"closePasswordDialog\">\r\n              Cancel\r\n            </button>\r\n            <button type=\"submit\" class=\"btn-submit glass-button-small\" :disabled=\"isSubmitting\">\r\n              {{ isSubmitting ? 'Submitting...' : 'Confirm Change' }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Edit Profile Modal -->\r\n    <div class=\"modal-overlay\" v-if=\"showEditDialog\" @click.self=\"closeEditDialog\">\r\n      <div class=\"modal-card glass-effect scrollable-modal\">\r\n        <div class=\"modal-header sticky-header\">\r\n          <h2>\r\n            <i class=\"fas fa-user-edit\"></i>\r\n            Edit Profile\r\n          </h2>\r\n          <button class=\"btn-close\" @click=\"closeEditDialog\">\r\n            <i class=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"edit-form scrollable-content\">\r\n          <!-- Avatar Upload Section -->\r\n          <div class=\"avatar-upload-section\">\r\n            <div class=\"avatar-preview\" @click=\"triggerFileInput\">\r\n              <img :src=\"editForm.avatar || userInfo.avatar || defaultAvatar\" alt=\"Avatar Preview\">\r\n              <div class=\"avatar-overlay\">\r\n                <i class=\"fas fa-camera\"></i>\r\n                <span>Change Avatar</span>\r\n              </div>\r\n              <input \r\n                type=\"file\" \r\n                ref=\"fileInput\" \r\n                accept=\"image/*\" \r\n                style=\"display: none\" \r\n                @change=\"handleFileChange\"\r\n              >\r\n            </div>\r\n            <p class=\"avatar-tip\">Click avatar to change photo</p>\r\n          </div>\r\n\r\n          <!-- Basic Info Form -->\r\n          <div class=\"form-section\">\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">\r\n                <i class=\"fas fa-user\"></i>\r\n                Username\r\n              </label>\r\n              <div class=\"input-wrapper\">\r\n                <input \r\n                  type=\"text\" \r\n                  v-model=\"editForm.name\"\r\n                  placeholder=\"Enter username\"\r\n                >\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Password Change Section -->\r\n            <div class=\"password-section\" v-if=\"showPasswordFields\">\r\n              <div class=\"section-header\">\r\n                <h3>Change Password</h3>\r\n                <button type=\"button\" class=\"btn-toggle\" @click=\"togglePasswordFields\">\r\n                  <i class=\"fas fa-times\"></i>\r\n                </button>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">\r\n                  <i class=\"fas fa-lock\"></i>\r\n                  Current Password\r\n                </label>\r\n                <div class=\"input-wrapper\">\r\n                  <input \r\n                    :type=\"showPassword.old ? 'text' : 'password'\" \r\n                    v-model=\"editForm.oldPassword\"\r\n                    placeholder=\"Enter current password\"\r\n                  >\r\n                  <button type=\"button\" class=\"toggle-password\" @click=\"togglePassword('old')\">\r\n                    <i class=\"fas\" :class=\"showPassword.old ? 'fa-eye-slash' : 'fa-eye'\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">\r\n                  <i class=\"fas fa-key\"></i>\r\n                  New Password\r\n                </label>\r\n                <div class=\"input-wrapper\">\r\n                  <input \r\n                    :type=\"showPassword.new ? 'text' : 'password'\" \r\n                    v-model=\"editForm.newPassword\"\r\n                    placeholder=\"Enter new password\"\r\n                  >\r\n                  <button type=\"button\" class=\"toggle-password\" @click=\"togglePassword('new')\">\r\n                    <i class=\"fas\" :class=\"showPassword.new ? 'fa-eye-slash' : 'fa-eye'\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">\r\n                  <i class=\"fas fa-check-circle\"></i>\r\n                  Confirm Password\r\n                </label>\r\n                <div class=\"input-wrapper\">\r\n                  <input \r\n                    :type=\"showPassword.confirm ? 'text' : 'password'\" \r\n                    v-model=\"editForm.confirmPassword\"\r\n                    placeholder=\"Re-enter new password\"\r\n                  >\r\n                  <button type=\"button\" class=\"toggle-password\" @click=\"togglePassword('confirm')\">\r\n                    <i class=\"fas\" :class=\"showPassword.confirm ? 'fa-eye-slash' : 'fa-eye'\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <button \r\n              v-if=\"!showPasswordFields\" \r\n              type=\"button\" \r\n              class=\"btn-add-password\"\r\n              @click=\"togglePasswordFields\"\r\n            >\r\n              <div class=\"btn-content\">\r\n                <i class=\"fas fa-plus\"></i>\r\n                <span>Change Password</span>\r\n              </div>\r\n              <div class=\"btn-background\"></div>\r\n            </button>\r\n\r\n            <div class=\"form-actions\">\r\n              <button type=\"button\" class=\"btn-cancel\" @click=\"closeEditDialog\">\r\n                Cancel\r\n              </button>\r\n              <button \r\n                type=\"button\" \r\n                class=\"btn-submit\" \r\n                :disabled=\"isSubmitting\"\r\n                @click=\"handleProfileUpdate\"\r\n              >\r\n                <span>{{ isSubmitting ? 'Saving...' : 'Save Changes' }}</span>\r\n                <i class=\"fas fa-arrow-right\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n// Variable Definitions\r\n$primary-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);\r\n$secondary-gradient: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);\r\n$success-gradient: linear-gradient(135deg, #22c55e 0%, #10b981 100%);\r\n$warning-gradient: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);\r\n$text-primary: #f8fafc;\r\n$text-secondary: #94a3b8;\r\n$glass-bg: rgba(255, 255, 255, 0.1);\r\n$glass-border: rgba(255, 255, 255, 0.2);\r\n$glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n\r\n// Global Styles\r\n.profile-container {\r\n  min-height: 100vh;\r\n  background: #0f172a;\r\n  position: relative;\r\n  overflow: hidden;\r\n  padding: 2rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  color: $text-primary;\r\n}\r\n\r\n// Back Button\r\n.back-button {\r\n  position: fixed;\r\n  top: 2rem;\r\n  left: 2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  padding: 0.75rem 1.25rem;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  backdrop-filter: blur(12px);\r\n  border-radius: 50px;\r\n  color: $text-primary;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  z-index: 10;\r\n  border: 1px solid rgba(255, 255, 255, 0.15);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  \r\n  i {\r\n    font-size: 16px;\r\n    transition: transform 0.3s ease;\r\n  }\r\n  \r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.15);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\r\n    \r\n    i {\r\n      transform: translateX(-3px);\r\n    }\r\n  }\r\n}\r\n\r\n// Background Animation\r\n.animated-background {\r\n  position: fixed;\r\n  inset: 0;\r\n  z-index: 0;\r\n  overflow: hidden;\r\n\r\n  .gradient-sphere {\r\n    position: absolute;\r\n    border-radius: 50%;\r\n    filter: blur(80px);\r\n    opacity: 0.5;\r\n    animation: float 20s infinite ease-in-out;\r\n\r\n    &:nth-child(1) {\r\n      width: 400px;\r\n      height: 400px;\r\n      background: $primary-gradient;\r\n      top: -100px;\r\n      left: -100px;\r\n      animation-delay: 0s;\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      width: 300px;\r\n      height: 300px;\r\n      background: $secondary-gradient;\r\n      bottom: -50px;\r\n      right: -50px;\r\n      animation-delay: -5s;\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      width: 250px;\r\n      height: 250px;\r\n      background: $warning-gradient;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      animation-delay: -10s;\r\n    }\r\n  }\r\n}\r\n\r\n// Glass Effect\r\n.glass-effect {\r\n  background: $glass-bg;\r\n  backdrop-filter: blur(12px);\r\n  border: 1px solid $glass-border;\r\n  border-radius: 24px;\r\n  box-shadow: $glass-shadow;\r\n}\r\n\r\n.glass-effect-light {\r\n  background: rgba(255, 255, 255, 0.05);\r\n  backdrop-filter: blur(8px);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  border-radius: 16px;\r\n}\r\n\r\n// Profile Main Container\r\n.profile-content {\r\n  position: relative;\r\n  z-index: 1;\r\n  width: 100%;\r\n  max-width: 1200px;\r\n  display: grid;\r\n  gap: 2rem;\r\n  margin-top: 2rem;\r\n}\r\n\r\n// Profile Card\r\n.profile-card {\r\n  padding: 2rem;\r\n\r\n  .profile-header {\r\n    display: flex;\r\n    gap: 2rem;\r\n    margin-bottom: 2rem;\r\n\r\n    .avatar-container {\r\n      position: relative;\r\n\r\n      .avatar-wrapper {\r\n        width: 120px;\r\n        height: 120px;\r\n        border-radius: 24px;\r\n        overflow: hidden;\r\n        position: relative;\r\n        border: 2px solid rgba(255, 255, 255, 0.2);\r\n        transition: transform 0.3s ease;\r\n\r\n        &:hover {\r\n          transform: translateY(-5px);\r\n\r\n          .avatar-overlay {\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        img {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: cover;\r\n        }\r\n\r\n        .avatar-overlay {\r\n          position: absolute;\r\n          inset: 0;\r\n          background: rgba(0, 0, 0, 0.5);\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          opacity: 0;\r\n          transition: opacity 0.3s ease;\r\n          cursor: pointer;\r\n\r\n          i {\r\n            font-size: 24px;\r\n            margin-bottom: 8px;\r\n          }\r\n\r\n          span {\r\n            font-size: 12px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .user-status {\r\n        position: absolute;\r\n        bottom: -10px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        padding: 4px 12px;\r\n        border-radius: 20px;\r\n        font-size: 12px;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 6px;\r\n        background: rgba(0, 0, 0, 0.3);\r\n        backdrop-filter: blur(4px);\r\n\r\n        &.active {\r\n          .status-dot {\r\n            background: #22c55e;\r\n            box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);\r\n          }\r\n        }\r\n\r\n        &.inactive {\r\n          .status-dot {\r\n            background: #ef4444;\r\n            box-shadow: 0 0 10px rgba(239, 68, 68, 0.5);\r\n          }\r\n        }\r\n\r\n        .status-dot {\r\n          width: 8px;\r\n          height: 8px;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n    }\r\n\r\n    .user-info {\r\n      flex: 1;\r\n\r\n      h1 {\r\n        font-size: 32px;\r\n        margin: 0 0 12px;\r\n        background: $primary-gradient;\r\n        -webkit-background-clip: text;\r\n        -webkit-text-fill-color: transparent;\r\n      }\r\n\r\n      .role-badge {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n        padding: 6px 16px;\r\n        border-radius: 20px;\r\n        background: rgba(99, 102, 241, 0.1);\r\n        color: #818cf8;\r\n        font-size: 14px;\r\n\r\n        i {\r\n          font-size: 12px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Info Grid\r\n.info-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 1.5rem;\r\n  margin-bottom: 2rem;\r\n\r\n  .info-card {\r\n    padding: 1.5rem;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    overflow: hidden;\r\n    transition: transform 0.3s ease;\r\n\r\n    &:hover {\r\n      transform: translateY(-5px);\r\n\r\n      .card-decoration {\r\n        transform: rotate(45deg) scale(1.2);\r\n      }\r\n    }\r\n\r\n    i {\r\n      font-size: 24px;\r\n      color: #818cf8;\r\n      z-index: 1;\r\n    }\r\n\r\n    .info-content {\r\n      z-index: 1;\r\n\r\n      label {\r\n        display: block;\r\n        font-size: 12px;\r\n        color: $text-secondary;\r\n        margin-bottom: 4px;\r\n      }\r\n\r\n      span {\r\n        font-size: 14px;\r\n        color: $text-primary;\r\n      }\r\n    }\r\n\r\n    .card-decoration {\r\n      position: absolute;\r\n      right: -20px;\r\n      top: -20px;\r\n      width: 100px;\r\n      height: 100px;\r\n      background: $primary-gradient;\r\n      opacity: 0.1;\r\n      border-radius: 20px;\r\n      transform: rotate(45deg);\r\n      transition: transform 0.3s ease;\r\n    }\r\n  }\r\n}\r\n\r\n// Action Buttons\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 1rem;\r\n\r\n  .glass-button {\r\n    flex: 1;\r\n    padding: 12px 24px;\r\n    border: none;\r\n    border-radius: 12px;\r\n    background: rgba(255, 255, 255, 0.1);\r\n    color: $text-primary;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 8px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    transition: all 0.3s ease;\r\n\r\n    i {\r\n      font-size: 16px;\r\n    }\r\n\r\n    .button-effect {\r\n      position: absolute;\r\n      inset: 0;\r\n      background: $primary-gradient;\r\n      opacity: 0;\r\n      transition: opacity 0.3s ease;\r\n    }\r\n\r\n    &:hover {\r\n      transform: translateY(-2px);\r\n\r\n      .button-effect {\r\n        opacity: 0.1;\r\n      }\r\n    }\r\n\r\n    &:active {\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n}\r\n\r\n// Account Security Card\r\n.security-card {\r\n  padding: 2rem;\r\n\r\n  .card-title {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 12px;\r\n    margin: 0 0 1.5rem;\r\n    font-size: 20px;\r\n\r\n    i {\r\n      color: #818cf8;\r\n    }\r\n  }\r\n\r\n  .security-items {\r\n    display: grid;\r\n    gap: 1rem;\r\n\r\n    .security-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 1rem;\r\n      padding: 1.5rem;\r\n      background: rgba(255, 255, 255, 0.05);\r\n      border-radius: 16px;\r\n      transition: transform 0.3s ease;\r\n\r\n      &:hover {\r\n        transform: translateY(-2px);\r\n      }\r\n\r\n      .security-icon {\r\n        width: 48px;\r\n        height: 48px;\r\n        border-radius: 12px;\r\n        background: rgba(99, 102, 241, 0.1);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: #818cf8;\r\n        font-size: 20px;\r\n      }\r\n\r\n      .security-info {\r\n        flex: 1;\r\n        margin-left: 30px;\r\n\r\n        h3 {\r\n          margin: 0 0 4px;\r\n          font-size: 16px;\r\n        }\r\n\r\n        p {\r\n          margin: 0;\r\n          font-size: 14px;\r\n          color: $text-secondary;\r\n        }\r\n      }\r\n\r\n      .security-action {\r\n        padding: 8px 16px;\r\n        border-radius: 20px;\r\n        background: rgba(255, 255, 255, 0.05);\r\n        color: $text-primary;\r\n        font-size: 14px;\r\n        border: none;\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n        transition: all 0.3s ease;\r\n\r\n        &:hover {\r\n          background: rgba(255, 255, 255, 0.1);\r\n          transform: translateX(5px);\r\n        }\r\n\r\n        i {\r\n          font-size: 12px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Change Password Modal\r\n.modal-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  backdrop-filter: blur(8px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  animation: fadeIn 0.3s ease;\r\n  padding: 20px;\r\n  overflow: hidden;\r\n\r\n  .modal-card {\r\n    width: 90%;\r\n    max-width: 400px;\r\n    animation: slideUp 0.3s ease;\r\n    max-height: 85vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    \r\n    &.scrollable-modal {\r\n      display: flex !important;\r\n      flex-direction: column;\r\n      max-height: 85vh;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .scrollable-content {\r\n      overflow-y: auto;\r\n      overflow-x: hidden;\r\n      padding-right: calc(2rem - 6px); // Reserve space for scrollbar\r\n      \r\n      /* Custom scrollbar styles */\r\n      &::-webkit-scrollbar {\r\n        width: 6px;\r\n      }\r\n      \r\n      &::-webkit-scrollbar-track {\r\n        background: rgba(255, 255, 255, 0.05);\r\n        border-radius: 3px;\r\n      }\r\n      \r\n      &::-webkit-scrollbar-thumb {\r\n        background: rgba(255, 255, 255, 0.2);\r\n        border-radius: 3px;\r\n        \r\n        &:hover {\r\n          background: rgba(255, 255, 255, 0.3);\r\n        }\r\n      }\r\n    }\r\n\r\n    .modal-header {\r\n      padding: 1.5rem;\r\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      h2 {\r\n        margin: 0;\r\n        font-size: 18px;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n\r\n        i {\r\n          color: #818cf8;\r\n        }\r\n      }\r\n\r\n      .btn-close {\r\n        background: none;\r\n        border: none;\r\n        color: $text-secondary;\r\n        cursor: pointer;\r\n        font-size: 18px;\r\n        padding: 4px;\r\n        transition: all 0.3s ease;\r\n\r\n        &:hover {\r\n          color: $text-primary;\r\n          transform: rotate(90deg);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Password Form\r\n.password-form {\r\n  padding: 1.5rem;\r\n  padding-right: calc(1.5rem - 6px); // Reserve space for scrollbar\r\n\r\n  .form-group {\r\n    margin-bottom: 1.5rem;\r\n\r\n    .input-wrapper {\r\n      position: relative;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 12px;\r\n      background: rgba(255, 255, 255, 0.05);\r\n      border-radius: 12px;\r\n      padding: 12px 16px;\r\n      transition: all 0.3s ease;\r\n\r\n      &:focus-within {\r\n        background: rgba(255, 255, 255, 0.1);\r\n        box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);\r\n      }\r\n\r\n      i {\r\n        color: #818cf8;\r\n        font-size: 16px;\r\n      }\r\n\r\n      input {\r\n        flex: 1;\r\n        background: none;\r\n        border: none;\r\n        color: $text-primary;\r\n        font-size: 14px;\r\n        outline: none;\r\n\r\n        &::placeholder {\r\n          color: $text-secondary;\r\n        }\r\n      }\r\n\r\n      .toggle-password {\r\n        background: none;\r\n        border: none;\r\n        color: $text-secondary;\r\n        cursor: pointer;\r\n        padding: 0;\r\n        font-size: 14px;\r\n        transition: color 0.3s ease;\r\n\r\n        &:hover {\r\n          color: $text-primary;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .form-actions {\r\n    display: flex;\r\n    gap: 1rem;\r\n    margin-top: 2rem;\r\n\r\n    button {\r\n      flex: 1;\r\n      padding: 12px;\r\n      border: none;\r\n      border-radius: 12px;\r\n      font-size: 14px;\r\n      cursor: pointer;\r\n      transition: all 0.3s ease;\r\n\r\n      &.btn-cancel {\r\n        background: rgba(255, 255, 255, 0.1);\r\n        color: $text-primary;\r\n\r\n        &:hover {\r\n          background: rgba(255, 255, 255, 0.15);\r\n        }\r\n      }\r\n\r\n      &.btn-submit {\r\n        background: $primary-gradient;\r\n        color: $text-primary;\r\n\r\n        &:hover:not(:disabled) {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);\r\n        }\r\n\r\n        &:disabled {\r\n          opacity: 0.5;\r\n          cursor: not-allowed;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Edit Form Styles\r\n.edit-form {\r\n  padding: 2rem;\r\n  padding-right: calc(2rem - 6px); // Reserve space for scrollbar\r\n\r\n  .avatar-upload-section {\r\n    text-align: center;\r\n    margin-bottom: 2rem;\r\n\r\n    .avatar-preview {\r\n      width: 120px;\r\n      height: 120px;\r\n      border-radius: 60px;\r\n      margin: 0 auto;\r\n      position: relative;\r\n      cursor: pointer;\r\n      transition: all 0.3s ease;\r\n      border: 3px solid rgba(255, 255, 255, 0.1);\r\n      overflow: hidden;\r\n\r\n      &:hover {\r\n        transform: scale(1.05);\r\n        border-color: rgba(255, 255, 255, 0.3);\r\n\r\n        .avatar-overlay {\r\n          opacity: 1;\r\n        }\r\n      }\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n\r\n      .avatar-overlay {\r\n        position: absolute;\r\n        inset: 0;\r\n        background: rgba(0, 0, 0, 0.6);\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        opacity: 0;\r\n        transition: opacity 0.3s ease;\r\n\r\n        i {\r\n          font-size: 24px;\r\n          margin-bottom: 8px;\r\n          color: white;\r\n        }\r\n\r\n        span {\r\n          font-size: 12px;\r\n          color: white;\r\n        }\r\n      }\r\n    }\r\n\r\n    .avatar-tip {\r\n      margin: 1rem 0 0;\r\n      font-size: 14px;\r\n      color: $text-secondary;\r\n    }\r\n  }\r\n\r\n  .form-section {\r\n    .form-group {\r\n      margin-bottom: 1.5rem;\r\n\r\n      .form-label {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n        margin-bottom: 8px;\r\n        color: $text-secondary;\r\n        font-size: 14px;\r\n\r\n        i {\r\n          color: #818cf8;\r\n        }\r\n      }\r\n\r\n      .input-wrapper {\r\n        background: rgba(255, 255, 255, 0.05);\r\n        border-radius: 12px;\r\n        padding: 12px 16px;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 12px;\r\n        transition: all 0.3s ease;\r\n\r\n        &:focus-within {\r\n          background: rgba(255, 255, 255, 0.1);\r\n          box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);\r\n        }\r\n\r\n        input {\r\n          flex: 1;\r\n          background: none;\r\n          border: none;\r\n          color: $text-primary;\r\n          font-size: 14px;\r\n          outline: none;\r\n\r\n          &::placeholder {\r\n            color: rgba(255, 255, 255, 0.3);\r\n          }\r\n        }\r\n\r\n        .toggle-password {\r\n          background: none;\r\n          border: none;\r\n          color: $text-secondary;\r\n          cursor: pointer;\r\n          padding: 4px;\r\n          font-size: 14px;\r\n          transition: all 0.3s ease;\r\n\r\n          &:hover {\r\n            color: $text-primary;\r\n            transform: scale(1.1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .password-section {\r\n    margin-top: 2rem;\r\n    padding-top: 2rem;\r\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n    .section-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 1.5rem;\r\n\r\n      h3 {\r\n        margin: 0;\r\n        font-size: 16px;\r\n        color: $text-primary;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n\r\n        &::before {\r\n          content: '';\r\n          display: block;\r\n          width: 4px;\r\n          height: 16px;\r\n          background: $primary-gradient;\r\n          border-radius: 2px;\r\n        }\r\n      }\r\n\r\n      .btn-toggle {\r\n        background: none;\r\n        border: none;\r\n        color: $text-secondary;\r\n        cursor: pointer;\r\n        padding: 4px;\r\n        font-size: 14px;\r\n        transition: all 0.3s ease;\r\n\r\n        &:hover {\r\n          color: $text-primary;\r\n          transform: rotate(90deg);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .btn-add-password {\r\n    width: 100%;\r\n    padding: 12px;\r\n    background: none;\r\n    border: 2px dashed rgba(255, 255, 255, 0.2);\r\n    border-radius: 12px;\r\n    color: $text-secondary;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n    transition: all 0.3s ease;\r\n\r\n    .btn-content {\r\n      position: relative;\r\n      z-index: 1;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8px;\r\n    }\r\n\r\n    .btn-background {\r\n      position: absolute;\r\n      inset: 0;\r\n      background: $primary-gradient;\r\n      opacity: 0;\r\n      transition: opacity 0.3s ease;\r\n    }\r\n\r\n    &:hover {\r\n      border-style: solid;\r\n      border-color: transparent;\r\n      color: $text-primary;\r\n\r\n      .btn-background {\r\n        opacity: 0.1;\r\n      }\r\n    }\r\n  }\r\n\r\n  .form-actions {\r\n    display: flex;\r\n    gap: 1rem;\r\n    margin-top: 2rem;\r\n\r\n    button {\r\n      flex: 1;\r\n      padding: 12px;\r\n      border: none;\r\n      border-radius: 12px;\r\n      font-size: 14px;\r\n      cursor: pointer;\r\n      transition: all 0.3s ease;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8px;\r\n\r\n      &.btn-cancel {\r\n        background: rgba(255, 255, 255, 0.1);\r\n        color: $text-primary;\r\n\r\n        &:hover {\r\n          background: rgba(255, 255, 255, 0.15);\r\n        }\r\n      }\r\n\r\n      &.btn-submit {\r\n        background: $primary-gradient;\r\n        color: white;\r\n        position: relative;\r\n        overflow: hidden;\r\n\r\n        &::after {\r\n          content: '';\r\n          position: absolute;\r\n          inset: 0;\r\n          background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n          transform: translateX(-100%);\r\n          transition: transform 0.3s ease;\r\n        }\r\n\r\n        &:hover:not(:disabled) {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);\r\n\r\n          &::after {\r\n            transform: translateX(100%);\r\n          }\r\n\r\n          i {\r\n            transform: translateX(3px);\r\n          }\r\n        }\r\n\r\n        &:disabled {\r\n          opacity: 0.7;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        i {\r\n          transition: transform 0.3s ease;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Add scroll-related styles\r\n.scrollable-modal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 85vh;\r\n}\r\n\r\n.sticky-header {\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  background: inherit;\r\n  backdrop-filter: blur(12px);\r\n}\r\n\r\n.scrollable-content {\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.05);\r\n  \r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: rgba(255, 255, 255, 0.05);\r\n    border-radius: 3px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background: rgba(255, 255, 255, 0.2);\r\n    border-radius: 3px;\r\n    \r\n    &:hover {\r\n      background: rgba(255, 255, 255, 0.3);\r\n    }\r\n  }\r\n}\r\n\r\n// Media Query Adjustments\r\n@media (max-height: 700px) {\r\n  .scrollable-modal {\r\n    max-height: 90vh;\r\n  }\r\n}\r\n\r\n@media (max-height: 600px) {\r\n  .scrollable-modal {\r\n    max-height: 95vh;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .profile-container {\r\n    padding: 1rem;\r\n  }\r\n\r\n  .profile-card .profile-header {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n\r\n    .avatar-container {\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    .user-info h1 {\r\n      font-size: 24px;\r\n    }\r\n  }\r\n\r\n  .info-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .action-buttons {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .security-item {\r\n    flex-direction: column;\r\n    text-align: center;\r\n\r\n    .security-icon {\r\n      margin: 0 auto;\r\n    }\r\n\r\n    .security-action {\r\n      width: 100%;\r\n      justify-content: center;\r\n    }\r\n  }\r\n\r\n  .edit-form {\r\n    padding: 1.5rem;\r\n  }\r\n  \r\n  .scrollable-modal {\r\n    width: 95%;\r\n    max-height: 80vh;\r\n  }\r\n  \r\n  .edit-form {\r\n    padding: 1rem;\r\n    \r\n    .avatar-upload-section .avatar-preview {\r\n      width: 100px;\r\n      height: 100px;\r\n    }\r\n    \r\n    .form-actions {\r\n      flex-direction: column;\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .modal-overlay {\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scrollable-modal {\r\n    width: 100%;\r\n    max-height: 90vh;\r\n  }\r\n  \r\n  .scrollable-content {\r\n    padding: 1rem;\r\n  }\r\n}\r\n\r\n// Animations\r\n@keyframes float {\r\n  0%, 100% {\r\n    transform: translate(0, 0);\r\n  }\r\n  50% {\r\n    transform: translate(30px, 30px);\r\n  }\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n@keyframes slideUp {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n</style>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted } from 'vue';\r\nimport request from '@/utils/request';\r\nimport { useRouter } from 'vue-router';\r\n\r\nconst router = useRouter();\r\n\r\n// Back to Home\r\nconst goBack = () => {\r\n  router.push('/');\r\n};\r\n\r\n// Default Avatar\r\nconst defaultAvatar = 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png';\r\n\r\n// User Information\r\nconst userInfo = ref({\r\n  userId: '',\r\n  name: '',\r\n  email: '',\r\n  role: '',\r\n  avatar: '',\r\n  createdAt: '',\r\n  status: ''\r\n});\r\n\r\n// Password Form\r\nconst passwordForm = reactive({\r\n  oldPassword: '',\r\n  newPassword: '',\r\n  confirmPassword: ''\r\n});\r\n\r\n// Edit Form State\r\nconst showEditDialog = ref(false);\r\nconst showPasswordFields = ref(false);\r\nconst editForm = reactive({\r\n  name: '',\r\n  avatar: '',\r\n  oldPassword: '',\r\n  newPassword: '',\r\n  confirmPassword: ''\r\n});\r\n\r\n// State Control\r\nconst showPasswordDialog = ref(false);\r\nconst isSubmitting = ref(false);\r\nconst showPassword = reactive({\r\n  old: false,\r\n  new: false,\r\n  confirm: false\r\n});\r\n\r\n// File Upload Related\r\nconst fileInput = ref(null);\r\nconst triggerFileInput = () => {\r\n  fileInput.value.click();\r\n};\r\n\r\n// Get User Information\r\nconst fetchUserInfo = async () => {\r\n  try {\r\n    const response = await request.get('/users/info');\r\n    if (response.code === 200) {\r\n      userInfo.value = response.data;\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to get user information:', error);\r\n  }\r\n};\r\n\r\n// Format Date\r\nconst formatDate = (date) => {\r\n  return new Date(date).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  });\r\n};\r\n\r\n// Show Password Change Dialog\r\nconst showPasswordModal = () => {\r\n  showPasswordDialog.value = true;\r\n};\r\n\r\n// Close Password Change Dialog\r\nconst closePasswordDialog = () => {\r\n  showPasswordDialog.value = false;\r\n  passwordForm.oldPassword = '';\r\n  passwordForm.newPassword = '';\r\n  passwordForm.confirmPassword = '';\r\n};\r\n\r\n// Toggle Password Display State\r\nconst togglePassword = (field) => {\r\n  showPassword[field] = !showPassword[field];\r\n};\r\n\r\n// Handle Password Change\r\nconst handlePasswordChange = async () => {\r\n  if (!passwordForm.oldPassword || !passwordForm.newPassword || !passwordForm.confirmPassword) {\r\n    alert('Please fill in all information');\r\n    return;\r\n  }\r\n\r\n  if (passwordForm.newPassword !== passwordForm.confirmPassword) {\r\n    alert('The two passwords do not match');\r\n    return;\r\n  }\r\n\r\n  isSubmitting.value = true;\r\n  try {\r\n    const response = await request.put('/users/update', {\r\n      oldPassword: passwordForm.oldPassword,\r\n      newPassword: passwordForm.newPassword,\r\n      confirmPassword: passwordForm.confirmPassword\r\n    });\r\n\r\n    if (response.code === 200) {\r\n      alert('Password change successful');\r\n      closePasswordDialog();\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to change password:', error);\r\n    alert('Failed to change password');\r\n  } finally {\r\n    isSubmitting.value = false;\r\n  }\r\n};\r\n\r\n// Handle Avatar Upload\r\nconst handleAvatarUpload = () => {\r\n  showEditDialog.value = true;\r\n  setTimeout(() => {\r\n    triggerFileInput();\r\n  }, 300);\r\n};\r\n\r\n// Handle File Selection\r\nconst handleFileChange = async (event) => {\r\n  const file = event.target.files[0];\r\n  if (!file) return;\r\n\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n\r\n  try {\r\n    const response = await request.post('/files/images', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n\r\n    if (response.code === 200) {\r\n      editForm.avatar = response.data.url || response.data;\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to upload avatar:', error);\r\n    alert('Failed to upload avatar, please try again later');\r\n  }\r\n};\r\n\r\n// Start Editing Profile\r\nconst startEdit = () => {\r\n  editForm.name = userInfo.value.name;\r\n  editForm.avatar = userInfo.value.avatar;\r\n  showEditDialog.value = true;\r\n};\r\n\r\n// Close Edit Dialog\r\nconst closeEditDialog = () => {\r\n  showEditDialog.value = false;\r\n  showPasswordFields.value = false;\r\n  editForm.name = '';\r\n  editForm.avatar = '';\r\n  editForm.oldPassword = '';\r\n  editForm.newPassword = '';\r\n  editForm.confirmPassword = '';\r\n};\r\n\r\n// Toggle Password Field Display\r\nconst togglePasswordFields = () => {\r\n  showPasswordFields.value = !showPasswordFields.value;\r\n  if (!showPasswordFields.value) {\r\n    editForm.oldPassword = '';\r\n    editForm.newPassword = '';\r\n    editForm.confirmPassword = '';\r\n  }\r\n};\r\n\r\n// Handle Profile Update\r\nconst handleProfileUpdate = async () => {\r\n  if (!editForm.name.trim()) {\r\n    alert('Please enter a username');\r\n    return;\r\n  }\r\n\r\n  if (showPasswordFields.value) {\r\n    if (!editForm.oldPassword || !editForm.newPassword || !editForm.confirmPassword) {\r\n      alert('Please fill in all password information');\r\n      return;\r\n    }\r\n    if (editForm.newPassword !== editForm.confirmPassword) {\r\n      alert('The two passwords do not match');\r\n      return;\r\n    }\r\n  }\r\n\r\n  isSubmitting.value = true;\r\n  try {\r\n    const updateData = {\r\n      name: editForm.name,\r\n      avatar: editForm.avatar\r\n    };\r\n\r\n    if (showPasswordFields.value) {\r\n      Object.assign(updateData, {\r\n        oldPassword: editForm.oldPassword,\r\n        newPassword: editForm.newPassword,\r\n        confirmPassword: editForm.confirmPassword\r\n      });\r\n    }\r\n\r\n    const response = await request.put('/users/update', updateData);\r\n\r\n    if (response.code === 200) {\r\n      userInfo.value = response.data;\r\n      alert('Update successful');\r\n      closeEditDialog();\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to update:', error);\r\n    alert('Failed to update, please try again later');\r\n  } finally {\r\n    isSubmitting.value = false;\r\n  }\r\n};\r\n\r\n// Component Mounted Get User Information\r\nonMounted(() => {\r\n  fetchUserInfo();\r\n});\r\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}